<?php
/**
 * Template Name: Home Page
 *
 * This is the template that displays all pages by default.
 * Please note that this is the WordPress construct of pages
 * and that other 'pages' on your WordPress site may use a
 * different template.
 *
 * @link https://developer.wordpress.org/themes/basics/template-hierarchy/
 *
 * @package Beyond
 */

get_header();
?>

	<div id="primary" class="content-area">
    <img class="load-first" style="display: none;" src="<?php echo get_template_directory_uri() ?>/images/layer-01.svg">
    <img class="load-first" style="display: none;" src="<?php echo get_template_directory_uri() ?>/images/layer-02.svg">
    <img class="load-first" style="display: none;" src="<?php echo get_template_directory_uri() ?>/images/layer-03.svg">
    <img class="load-first" style="display: none;" src="<?php echo get_template_directory_uri() ?>/images/layer-04.svg">
    <img class="load-first" style="display: none;" src="<?php echo get_template_directory_uri() ?>/images/layer-05.svg">
    <img class="load-first" style="display: none;" src="<?php echo get_template_directory_uri() ?>/images/layer-06.svg">
    <div class="hero-section">
      <div class="background hero-layer"></div>

        <svg class="brand-mark" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" viewBox="0 0 821.3 231.05">
          <defs>
            <style>
              .cls-1 {
                fill: #f99746;
              }

              .cls-2 {
                fill: url(#linear-gradient);
              }

              .cls-3 {
                fill: url(#linear-gradient-2);
              }

              .cls-4 {
                fill: url(#linear-gradient-3);
              }

              .cls-5 {
                fill: url(#linear-gradient-4);
              }

              .cls-6 {
                fill: url(#linear-gradient-5);
              }

              .cls-7 {
                fill: url(#linear-gradient-6);
              }

              .cls-8 {
                fill: url(#linear-gradient-7);
              }

              .cls-9 {
                fill: url(#linear-gradient-8);
              }

              .cls-10 {
                fill: url(#linear-gradient-9);
              }

              .cls-11 {
                fill: url(#linear-gradient-10);
              }

              .cls-12 {
                fill: url(#linear-gradient-11);
              }

              .cls-13 {
                fill: url(#linear-gradient-12);
              }

              .cls-14 {
                fill: url(#linear-gradient-13);
              }

              .cls-15 {
                fill: url(#linear-gradient-14);
              }

              .cls-16 {
                fill: url(#linear-gradient-15);
              }

              .cls-17 {
                fill: #63cac7;
              }

              .cls-18 {
                fill: #13838f;
              }
            </style>
            <linearGradient id="linear-gradient" x1="36.47" y1="70.56" x2="89.17" y2="70.56" gradientUnits="userSpaceOnUse">
              <stop offset="0" stop-color="#63cac7"/>
              <stop offset="0.41" stop-color="#61c8c6"/>
              <stop offset="0.59" stop-color="#5ac2c0"/>
              <stop offset="0.73" stop-color="#4db6b8"/>
              <stop offset="0.84" stop-color="#3ba6ab"/>
              <stop offset="0.94" stop-color="#24929b"/>
              <stop offset="1" stop-color="#13838f"/>
            </linearGradient>
            <linearGradient id="linear-gradient-2" x1="38.97" y1="160.73" x2="89.17" y2="160.73" xlink:href="#linear-gradient"/>
            <linearGradient id="linear-gradient-3" x1="249.78" y1="115.65" x2="249.78" y2="53.2" gradientUnits="userSpaceOnUse">
              <stop offset="0" stop-color="#ef712b"/>
              <stop offset="0.13" stop-color="#f38136"/>
              <stop offset="0.29" stop-color="#f78e3f"/>
              <stop offset="0.51" stop-color="#f89545"/>
              <stop offset="1" stop-color="#f99746"/>
            </linearGradient>
            <linearGradient id="linear-gradient-4" x1="144.88" y1="71.06" x2="232.05" y2="71.06" xlink:href="#linear-gradient"/>
            <linearGradient id="linear-gradient-5" x1="162.61" y1="178.09" x2="162.61" y2="88.92" gradientUnits="userSpaceOnUse">
              <stop offset="0" stop-color="#f99746"/>
              <stop offset="0.49" stop-color="#f89545"/>
              <stop offset="0.71" stop-color="#f78e3f"/>
              <stop offset="0.87" stop-color="#f38136"/>
              <stop offset="1" stop-color="#ef712b"/>
            </linearGradient>
            <linearGradient id="linear-gradient-6" x1="180.34" y1="160.73" x2="240.04" y2="160.73" gradientUnits="userSpaceOnUse">
              <stop offset="0" stop-color="#13838f"/>
              <stop offset="0.06" stop-color="#24929b"/>
              <stop offset="0.16" stop-color="#3ba6ab"/>
              <stop offset="0.27" stop-color="#4db6b8"/>
              <stop offset="0.41" stop-color="#5ac2c0"/>
              <stop offset="0.59" stop-color="#61c8c6"/>
              <stop offset="1" stop-color="#63cac7"/>
            </linearGradient>
            <linearGradient id="linear-gradient-7" x1="323.22" y1="160.48" x2="362.94" y2="160.48" xlink:href="#linear-gradient-6"/>
            <linearGradient id="linear-gradient-8" x1="381.3" y1="194.33" x2="381.3" y2="52.95" xlink:href="#linear-gradient-3"/>
            <linearGradient id="linear-gradient-9" x1="455.11" y1="71.06" x2="544.53" y2="71.06" xlink:href="#linear-gradient-6"/>
            <linearGradient id="linear-gradient-10" x1="526.18" y1="178.09" x2="526.18" y2="88.89" xlink:href="#linear-gradient-5"/>
            <linearGradient id="linear-gradient-11" x1="419.64" y1="160.23" x2="507.82" y2="160.23" xlink:href="#linear-gradient"/>
            <linearGradient id="linear-gradient-12" x1="437.38" y1="142.38" x2="437.38" y2="53.2" xlink:href="#linear-gradient-3"/>
            <linearGradient id="linear-gradient-13" x1="601.24" y1="70.56" x2="640.95" y2="70.56" xlink:href="#linear-gradient"/>
            <linearGradient id="linear-gradient-14" x1="732.37" y1="70.56" x2="784.83" y2="70.56" xlink:href="#linear-gradient-6"/>
            <linearGradient id="linear-gradient-15" x1="732.37" y1="160.73" x2="782.33" y2="160.73" xlink:href="#linear-gradient-6"/>
          </defs>
          <title>beyond_brandmark</title>
          <g id="Original">
            <g>
              <g>
                <path class="cls-1" d="M36.47,87.92v90.92L0,142.38V0H36.47Zm88.42,1v53.46L89.17,178.09H73.69L39,143.37h50.2V87.92H36.47L71.19,53.2h18Z"/>
                <path class="cls-1" d="M232.05,88.92H180.34v54.45h25L240,178.09h-59.7l-35.46-35.71V88.92L180.34,53.2h51.71l35.47,35.72v26.73l-32,32.22-32.23-32.22h28.73Z"/>
                <path class="cls-1" d="M287.51,142.13V88.67L323,52l.25,91.17h39.72l-34.72,34.72h-5ZM399.66,53V194.33l-36.72,36.72-36.47-36.72h36.47V53Z"/>
                <path class="cls-1" d="M419.64,88.92,455.11,53.2h53.71l35.71,35.72v53.46l-36.71,35.71H455.11l-35.47-35.71Zm88.18,53.46V88.89H455.11v53.49Z"/>
                <path class="cls-1" d="M564.52,52.2l36.72,35.72v90.17H564.52ZM641,87.92H601.24L636,53.2h5l35.7,34.72,0,91.17L641,143.37Z"/>
                <path class="cls-1" d="M732.5,53.2 h17.74l34.72,34.72H732.37v55.45h50l-34.72,34.72H732.37l-35.71-35.71V88.92ZM821.3,0H784.83V178.84l36.47-35.47Z"/>
              </g>
              <polygon class="cls-2" points="89.17 53.2 89.17 87.92 36.47 87.92 71.19 53.2 89.17 53.2"/>
              <polygon class="cls-3" points="89.17 143.37 89.17 178.09 73.69 178.09 38.97 143.37 89.17 143.37"/>
              <polygon class="cls-4" points="232.05 115.65 267.52 115.65 267.52 88.92 232.05 53.2 232.05 115.65"/>
              <polygon class="cls-5" points="232.05 53.2 232.05 88.92 144.88 88.92 180.34 53.2 232.05 53.2"/>
              <polygon class="cls-6" points="144.88 88.92 180.34 88.92 180.34 178.09 144.88 142.38 144.88 88.92"/>
              <polygon class="cls-7" points="180.34 143.37 180.34 178.09 240.04 178.09 205.32 143.37 180.34 143.37"/>
              <polygon class="cls-8" points="323.22 143.13 323.22 177.84 328.22 177.84 362.94 143.13 323.22 143.13"/>
              <rect class="cls-9" x="362.94" y="52.95" width="36.72" height="141.38"/>
              <polygon class="cls-10" points="455.11 53.2 455.11 88.92 544.53 88.92 508.82 53.2 455.11 53.2"/>
              <polygon class="cls-11" points="544.53 142.38 507.82 178.09 507.82 88.89 544.53 88.89 544.53 142.38"/>
              <polygon class="cls-12" points="507.82 142.38 507.82 178.09 455.11 178.09 419.64 142.38 507.82 142.38"/>
              <polygon class="cls-13" points="455.11 142.38 419.64 142.38 419.64 88.92 455.11 53.2 455.11 142.38"/>
              <polygon class="cls-14" points="640.95 53.2 640.95 87.92 601.24 87.92 635.96 53.2 640.95 53.2"/>
              <polygon class="cls-15" points="732.38 53.2 732.38 87.92 784.83 87.92 750.11 53.2 732.38 53.2"/>
              <polygon class="cls-16" points="782.33 143.37 747.61 178.09 732.38 178.09 732.38 143.37 782.33 143.37"/>
              <polygon class="cls-17" points="399.66 194.33 326.47 194.33 362.94 231.05 399.66 194.33"/>
              <polygon class="cls-17" points="267.52 115.65 203.32 115.65 235.55 147.87 267.52 115.65"/>
            </g>
            <g>
              <path class="cls-18" d="M429.77,206.72h3.38v3.46l-2.8,1.63H423.5l-2.81-1.63V196.24l2.81-1.62h6.85l2.8,1.62v3.46h-3.38v-2.17h-5.69V208.9h5.69Z"/>
              <path class="cls-18" d="M446.83,194.74h3.39v15.44l-2.81,1.63h-7.58l-2.8-1.63V194.74h3.39v13.92h6.41Z"/>
              <path class="cls-18" d="M467.18,211.68h-3.73l-3.63-6.38h-2.1v6.38h-3.39V194.74h9.17l2.81,1.63v7.3l-2.81,1.63Zm-9.46-14v4.74h5.2v-4.74Z"/>
              <path class="cls-18" d="M476.94,197.65v14h-3.39v-14H469v-2.91h12.54v2.91Z"/>
              <path class="cls-18" d="M484.17,211.68V194.74h3.39v16.94Z"/>
              <path class="cls-18" d="M495.06,200.72v11h-3.39V194.74h3.17l7.31,11h.05v-11h3.39v16.94h-3.17l-7.31-11Z"/>
              <path class="cls-18" d="M529.19,210.06l-2.81,1.62H516V194.74h10.38l2.81,1.63Zm-9.81-12.41v11.13h6.42V197.65Z"/>
              <path class="cls-18" d="M533.3,211.68V194.74h3.39v16.94Z"/>
              <path class="cls-18" d="M546.85,205.76v-2.91H553v7.33l-2.81,1.63h-6.85l-2.81-1.63V196.24l2.81-1.62h6.85l2.81,1.62v3.46h-3.39v-2.17H544V208.9h5.69v-3.14Z"/>
              <path class="cls-18" d="M556.9,211.68V194.74h3.39v16.94Z"/>
              <path class="cls-18" d="M570.91,197.65v14h-3.39v-14H563v-2.91h12.53v2.91Z"/>
              <path class="cls-18" d="M584.78,194.74l6.05,16.94h-3.34L586.2,208h-6.34l-1.28,3.65h-3.34l6-16.94ZM583,199l-2.13,6.13h4.28l-2.1-6.13Z"/>
              <path class="cls-18" d="M593.25,211.68V194.74h3.39v14h5.78v2.9Z"/>
              <path class="cls-18" d="M617.42,205.76v-2.91h6.18v7.33l-2.81,1.63h-6.85l-2.81-1.63V196.24l2.81-1.62h6.85l2.81,1.62v3.46h-3.39v-2.17h-5.69V208.9h5.69v-3.14Z"/>
              <path class="cls-18" d="M640.32,211.68h-3.73L633,205.3h-2.1v6.38h-3.39V194.74h9.17l2.81,1.63v7.3l-2.81,1.63Zm-9.46-14v4.74h5.2v-4.74Z"/>
              <path class="cls-18" d="M651.4,194.74l6.05,16.94h-3.34L652.83,208h-6.34l-1.28,3.65h-3.34l6-16.94ZM649.64,199l-2.13,6.13h4.28l-2.1-6.13Z"/>
              <path class="cls-18" d="M673.06,210.06l-2.8,1.62H659.87V194.74h10.39l2.8,1.63Zm-9.8-12.41v11.13h6.42V197.65Z"/>
              <path class="cls-18" d="M683.47,203.09v-6.85l2.81-1.62h6.12l2.81,1.62v3.22h-3.39v-1.93h-5v4h5.54l2.81,1.62v7l-2.81,1.63H686l-2.81-1.63V207h3.39v1.93h5.2v-4.19h-5.54Z"/>
              <path class="cls-18" d="M702.71,204.42v7.26h-3.39V194.74h3.39v6.78h6.66v-6.78h3.38v16.94h-3.38v-7.26Z"/>
              <path class="cls-18" d="M730.06,210.18l-2.81,1.63h-7.57l-2.81-1.63V196.24l2.81-1.62h7.57l2.81,1.62Zm-9.8-12.65V208.9h6.41V197.53Z"/>
              <path class="cls-18" d="M754.74,194.74l-4.3,16.94h-3.63l-3-11.44h0l-3.05,11.44H737l-4.31-16.94H736l2.86,11.62h0L742,194.74h3.44l3.1,11.57h.05l2.85-11.57Z"/>
              <path class="cls-18" d="M767.09,208.78h8v2.9H763.7v-8l2.81-1.62h5.18v-4.45h-4.6v2.18H763.7v-3.46l2.81-1.63h5.76l2.8,1.63v7l-2.8,1.62h-5.18Z"/>
              <path class="cls-18" d="M791.41,210.18l-2.81,1.63H782l-2.8-1.63V196.24l2.8-1.62h6.61l2.81,1.62Zm-8.83-12.65V208.9H788V197.53Z"/>
              <path class="cls-18" d="M795.52,200.41v-3.17l4.36-2.5h2.9v14h3.88v2.9H795.52v-2.9h3.87v-10.6Z"/>
              <path class="cls-18" d="M818.49,211.81H812l-2.42-1.63v-6l2.11-1.21v0l-2.11-1.21v-5.45l2.81-1.62h6.12l2.81,1.62v5.45l-2.11,1.21v0l2.11,1.21v6ZM813,201.47h5v-3.94h-5Zm0,7.43h5v-4.52h-5Z"/>
            </g>
          </g>
        </svg>

      <div class="layer-06 hero-layer"></div>
      <div class="layer-05 hero-layer"></div>
      <div class="layer-04 hero-layer"></div>
      <div class="layer-03 hero-layer"></div>
      <div class="layer-02 hero-layer"></div>
      <div class="layer-01 hero-layer"></div>
    
    </div>

    <svg id="leaves" xmlns="http://www.w3.org/2000/svg" width="1200" height="600" version="1" viewBox="0 0 1200 600">
      <defs>
        <linearGradient id="linearGradient-1" x1="50%" x2="50%" y1="-10.8%" y2="93%">
          <stop offset="0%" stop-color="#5ECACC"/>
          <stop offset="100%" stop-color="#12818F"/>
        </linearGradient>
        <linearGradient id="linearGradient-2" x1="50%" x2="33.4%" y1="-10.8%" y2="100%">
          <stop offset="0%" stop-color="#B7E1B6"/>
          <stop offset="100%" stop-color="#1C9283"/>
        </linearGradient>
      </defs>
      <g fill="none" fill-rule="nonzero">
        <g id="leaf-04" transform="translate(-160 197)">
          <path id="Path-18" fill="url(#linearGradient-1)" d="M45 40c11-68 68-24 112-39-27 35-86 66-112 39z"/>
          <path id="Path-18-Copy" fill="#983F01" d="M45 40c31-30 52-16 96-31-42 17-72 2-93 33-14 2-43 10-48-9l4-3C0 49 36 44 45 40z"/>
        </g>
        <g id="leaf-03" transform="translate(-150 327)">
          <path id="Path-18" fill="url(#linearGradient-1)" d="M30 44C24-7 97-5 135 9 123 52 49 74 30 44z"/>
          <path id="Path-18-Copy" fill="#983F01" d="M30 44c31-30 52-16 96-31-42 17-73 3-94 34-13 8-22 7-32 7l1-3c4 0 24 2 29-7z"/>
        </g>
        <g id="leaf-02" transform="translate(-100 459)">
          <path id="Path-18" fill="url(#linearGradient-1)" d="M23 24C19 13 26 4 43 1c14-2 27 10 48 5-6 24-30 35-48 35-12 0-22-8-20-17z"/>
          <path id="Path-18-Copy" fill="#983F01" d="M24 23c15 0 34 0 58-12-25 15-46 14-58 14-14-3-19-6-24-9l1-3c3 2 8 7 23 10z"/>
        </g>
        <path id="leaf-01" fill="url(#linearGradient-1)" d="M0 16C-2-3 25-2 39 3 35 19 7 27 0 16z" transform="translate(-100 279)"/>
        <path id="path-01" d="M-87 61c63 132 329 276 486 268s270-35 236-132-150-68-186-16 9 173 140 181 200-56 453 31c56 23 142 78 257 167"/>
        <path id="path-02" d="M-68-68a582 582 0 0 0 532 367c80 0 215-69 119-137-96-67-120 152-15 215 60 36 275-24 344-12 126 22 241 87 346 195"/>
        <path id="path-03" d="M-87 60c446 26 455 450 635 354 180-97 35-284-68-200-103 85 157 136 194 131 227-26 395 176 512 163 78-8 146-28 204-58"/>
        <path id="path-04" d="M-62-93c93 285 240 434 440 446 119 7 208-48 200-151-5-61-195-99-143 49 53 150 266 114 336 114 115 0 291 65 529 195"/>
      </g>
    </svg>

		<main id="main" class="site-main">

    <div class="about-section" id="about">
      <h2 class="section-heading">Join Us</h2>
      <p>Join us for an evening of celebration as Curtin’s 2018 Digital students present their portfolios, and grow BEYOND University into the Design Industry.</p>

      <p>From the disciplines of Web, User Interface/User Experience, Interaction, 3D, Motion Graphics and Animation Design, works will be on display for one night only, to demonstrate the diverse creative talent that is produced out of Curtin’s Digital Design and Animation and Games Design course.</p>
      <!-- <span class="diamond"></span> -->

      <div class="details-info-wrap">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="40" height="40"><title>icon location</title><g class="nc-icon-wrapper" fill="#f58f3b"><path class="heroicon-ui" d="M5.64 16.36a9 9 0 1 1 12.72 0l-5.65 5.66a1 1 0 0 1-1.42 0l-5.65-5.66zm11.31-1.41a7 7 0 1 0-9.9 0L12 19.9l4.95-4.95zM12 14a4 4 0 1 1 0-8 4 4 0 0 1 0 8zm0-2a2 2 0 1 0 0-4 2 2 0 0 0 0 4z"/></g></svg>
        <h2 class="section-heading">5pm - 6:30pm<br>Thursday 22nd November</h2>
        <h3>The Bird Mess Hall</h3>
        <p class="address">175 William St, Northbridge</p>
        <p>The Bird Mess Hall is the official sponsor of BEYOND.</p>
        <div class="bird-logo-bg"></div>
        <p>Industry members are invited to attend this cocktail-style networking event, review students’ works, and interact with these fresh graduates.</p>
        <span class="diamond"></span>
      </div>
    
    </div>

    <div class="video-section" id="video-teaser">
      <div class="video-wrap">
        <iframe width="560" height="315" src="https://www.youtube.com/embed/wGN4nsFnlls?showinfo=0&modestbranding=1&loop=1&rel=0" frameborder="0"  encrypted-media" allowfullscreen></iframe>
      </div>
    </div>

    <?php
    $args = array(
      'post_type' => array( 'graduate-profile' ),
      'post_status' => array( 'publish' ),
      'orderby' => 'title',
      'order' => 'ASC',
      'posts_per_page' => -1,
    );
    // The Query
    $the_query = new WP_Query( $args );

    // The Loop
    if ( $the_query->have_posts() ) {
    ?>

    <div class="graduates-section" id="graduates">
      <h2 class="section-heading">The Graduates</h2>
      <div class="filter-wrap">
        <?php
        $terms = get_terms(array(
            'taxonomy' => 'skills',
            'hide_empty' => true,
          ));
          // var_dump($terms);
          if ( !empty( $terms ) && !is_wp_error( $terms ) ){
            ?>
            <form class="graduate-filter">
              <div class="filter-item">
                <input type="radio" id="all" name="skills" value="all" checked />
                <label for="all">All</label>
              </div>
              <?php
              foreach ( $terms as $term ) {
                ?>
                <div class="filter-item">
                  <input type="radio" id="<?php echo $term->slug ?>" name="skills" value="<?php echo $term->name ?>" />
                  <label for="<?php echo $term->slug ?>"><?php echo $term->name ?></label>
                </div>
                <?php
              }
            echo "</form>";
          }
          ?>
      </div>
      <div class="graduates-grid-wrap">

        <?php
        // $args = array(
        //   'post_type' => array( 'graduate-profile' ),
        //   'post_status' => array( 'publish' ),
        //   'orderby' => 'menu_order',
        // );
        // // The Query
        // $the_query = new WP_Query( $args );

        // // The Loop
        // if ( $the_query->have_posts() ) {
          
          while ( $the_query->have_posts() ) {
            $the_query->the_post();

            // get all the skills associated with this graduate
            $skills = get_the_terms(get_the_ID(), 'skills');
            // echo them as classes on the graduate block wrap

            ?>
            <div class="graduate-block-wrap all <?php foreach($skills as $skill) { echo $skill->slug . " "; } ?>">
              <a class="graduate-grid-link" data-swup-class="graduate-profile" href="<?php echo get_permalink() ?>">
                <?php 
                $image = get_field('profile_picture');
                $image_hover = get_field('profile_picture_hover');
                if( !empty($image_hover) ): ?>
                  <img src="<?php echo $image_hover['url']; ?>" class="profile-image-hover" alt="<?php echo $image_hover['alt']; ?>" />
                <?php endif;
                if( !empty($image) ): ?>
                  <img src="<?php echo $image['url']; ?>" class="profile-image" alt="<?php echo $image['alt']; ?>" />
                <?php endif; ?>
                <div class="graduate-info-wrap">
                  <h2 class="graduate-name"><?php the_field('your_name'); ?></h2>
                  <?php 
                  $terms = get_field('skills_list');
                  if( $terms ): ?>
                    <ul class="skills-list">
                    <?php foreach( $terms as $term ): ?>
                      <li class="skills-list-item"><?php echo $term->name; ?></li>
                    <?php endforeach; ?>
                    </ul>
                  <?php
                  endif;
                  ?>
                </div>
              </a>
            </div>
            <?php
          }
          ?>
      </div>
    
    </div>

    <?php
    /* Restore original Post Data */
      wp_reset_postdata();
    } else {
      // no posts found
    }
    ?>

    <div class="contact-section" id="contact">
      <h2 class="section-heading">Contact Us</h2>
        <?php
        echo do_shortcode('[contact-form-7 id="56" title="Contact form 1"]');
        ?>
    </div>

		</main><!-- #main -->
	</div><!-- #primary -->

<?php
get_footer();
