{"version":3,"sources":["anime.js","filter-anim.js","imagesloaded.pkgd.js","swupjs-transitions.js","swupjs.js","zz-my-scripts.js"],"names":["root","factory","define","amd","module","exports","anime","this","defaultInstanceSettings","update","undefined","begin","run","complete","loop","direction","autoplay","offset","defaultTweenSettings","duration","delay","easing","elasticity","round","validTransforms","transformString","stringContains","str","text","indexOf","is","arr","a","Array","isArray","obj","Object","prototype","toString","call","pth","hasOwnProperty","svg","SVGElement","dom","nodeType","fnc","und","hex","test","rgb","hsl","col","bezier","kSplineTableSize","kSampleStepSize","A","aA1","aA2","B","C","calcBezier","aT","getSlope","mX1","mY1","mX2","mY2","sampleValues","Float32Array","i","getTForX","aX","intervalStart","currentSample","lastSample","guessForT","initialSlope","aGuessT","currentSlope","newtonRaphsonIterate","aA","aB","currentX","currentT","Math","abs","binarySubdivide","x","easings","names","elastic","t","p","pow","sin","PI","asin","equations","In","Out","f","InOut","functions","linear","type","forEach","apply","selectString","document","querySelectorAll","e","filterArray","callback","len","length","thisArg","arguments","result","val","push","flattenArray","reduce","b","concat","toArray","o","NodeList","HTMLCollection","slice","arrayContains","some","cloneObject","clone","replaceObjectProps","o1","o2","mergeObjects","colorToRgb","rgbValue","exec","rgbToRgba","hexValue","replace","m","r","g","parseInt","hexToRgba","hslValue","h","s","l","hue2rgb","q","hslToRgba","getUnit","split","minMaxValue","min","max","getFunctionValue","animatable","target","id","total","getCSSValue","el","prop","style","getComputedStyle","getPropertyValue","toLowerCase","getAnimationType","getAttribute","getTransformValue","propName","defaultUnit","getTransformUnit","defaultVal","transform","match","props","values","rgx","value","getOriginalTargetValue","getRelativeValue","to","from","operator","u","parseFloat","y","getDistance","p1","p2","sqrt","getPolylineLength","points","previousPos","totalLength","numberOfItems","currentPos","getItem","getTotalLength","tagName","getCircleLength","getRectLength","getLineLength","getPolygonLength","getPathProgress","path","progress","point","getPointAtLength","p0","property","atan2","decomposeValue","unit","originalUnit","unitLess","substr","validateValue","original","numbers","map","Number","strings","parseTargets","targets","item","pos","self","normalizePropertyTweens","tweenSettings","settings","v","k","normalizeTweens","previousTween","tweens","tween","normalizeTweenValues","tweenValue","originalValue","name","previousValue","start","end","normalizeEasing","isPath","isColor","setTweenProgress","css","attribute","setAttribute","object","transforms","getAnimations","animatables","properties","animType","createAnimation","getInstanceTimings","animations","instanceSettings","isDelay","anim","createNewInstance","params","parsed","getAnimatables","getProperties","children","activeInstances","raf","engine","play","requestAnimationFrame","step","activeLength","tick","cancelAnimationFrame","now","startTime","lastTime","resolve","makePromise","window","Promise","_resolve","promise","instance","toggleInstanceDirection","reversed","adjustTime","time","setAnimationsProgress","insTime","animationsLength","tweenLength","elapsed","eased","isNaN","toNumbersLength","n","toNumber","fromNumber","stringsLength","currentValue","transformsLength","keys","body","join","currentTime","setCallback","cb","countIteration","remaining","setInstanceProgress","engineTime","insDuration","insOffset","insStart","insCurrentTime","insReversed","childrenLength","seek","syncInstanceChildren","began","pause","completed","reset","loops","paused","speed","splice","reverse","restart","finished","version","running","remove","targetsArray","getValue","percent","setDashoffset","pathLength","timeline","tl","add","instancesParams","instanceParams","insParams","tlDuration","ins","random","floor","flipAnimNodeList","elList","activeFilter","firstRect","cssText","getBoundingClientRect","classList","contains","lastRect","elListActive","invertedRect","top","left","width","height","opacity","scaleX","scaleY","translateX","translateY","onFilterChange","setTimeout","global","EvEmitter","proto","on","eventName","listener","events","_events","listeners","once","onceEvents","_onceEvents","off","index","emitEvent","args","onceListeners","allOff","require","imagesLoaded","$","jQuery","console","extend","arraySlice","ImagesLoaded","elem","options","onAlways","queryElem","elements","getImages","jqDeferred","Deferred","check","bind","error","create","images","addElementImages","nodeName","addImage","background","addElementBackgroundImages","elementNodeTypes","childImgs","img","child","1","9","11","LoadingImage","Background","url","element","Image","reURL","matches","backgroundImage","addBackground","loadingImage","_this","onProgress","image","message","progressedCount","hasAnyBroken","isLoaded","notify","debug","log","isComplete","jqMethod","getIsImageComplete","confirm","naturalWidth","proxyImage","addEventListener","src","handleEvent","event","method","onload","unbindEvents","onerror","removeEventListener","makeJQueryPlugin","fn","homeToProfileOut","next","translateZ","scale","homeToProfileIn","profileToHomeOut","profileToHomeIn","nextProfileOut","rotate","nextProfileIn","prevProfileOut","prevProfileIn","flipAnim","expanded","collapsed","invertedTop","invertedLeft","invertedWidth","invertedHeight","transformOrigin","animate","removeAttribute","modules","installedModules","__webpack_require__","moduleId","c","d","getter","defineProperty","configurable","enumerable","get","__esModule","_createClass","defineProperties","descriptor","writable","key","Constructor","protoProps","staticProps","Link","TypeError","_classCallCheck","link","createElement","href","pathname","search","hash","default","transition","animation","animationName","topRating","rating","includes","route","custom","triggerEvent","_Link","_Link2","page","popstate","documentElement","setPath","responseURL","location","getPath","history","replaceState","source","title","animateHistoryBrowsing","blocks","querySelector","outerHTML","cache","empty","debugMode","pageClassPrefix","className","pageClass","doScrollingRightAway","scrollToElement","doScrolling","animationPromises","animationPromise","createAnimationPromise","getAnimation","preloadPages","all","then","classItem","RegExp","getUrl","data","finalPage","classify","pop","createState","exists","xhrPromise","preloadPromise","getPage","response","request","status","reject","getDataFromHtml","cacheUrl","renderPage","catch","errorUrl","skipPopStateHandling","go","plugin","assign","plugins","html","innerHTML","originalContent","preload","getAddress","currentUrl","warn","dataset","swup","scroll","pageYOffset","scrollTo","output","animatedScroll","animateScroll","friction","scrollFriction","acceleration","scrollAcceleration","positionY","velocityY","targetPositionY","targetPositionYWithOffset","distance","applyForce","render","force","passive","scrollTop","CustomEvent","detail","dispatchEvent","pushState","hostname","getElementsByTagName","innerText","back","animatedElements","animationSelector","promises","transitionEndEvent","content","fakeDom","_extends","defaults","XMLHttpRequest","onreadystatechange","readyState","responseText","open","setRequestHeader","send","transEndEventNames","WebkitTransition","MozTransition","OTransition","Cache","pages","count","last","displayCache","groupCollapsed","groupEnd","showLog","DOCUMENT_NODE_TYPE","Element","matchesSelector","mozMatchesSelector","msMatchesSelector","oMatchesSelector","webkitMatchesSelector","selector","parentNode","closest","_delegate","useCapture","listenerFn","delegateTarget","destroy","_delegate2","_interopRequireDefault","_Cache2","_transitionEnd2","_request2","_getDataFromHtml2","_loadPage2","_renderPage2","_goBack2","_createState2","_triggerEvent2","_getUrl2","_scrollTo2","_classify2","_doScrolling2","_markSwupElements2","_updateTransition2","_preloadPages2","_usePlugin2","_log2","Swup","setOptions","support","state","LINK_SELECTOR","origin","FORM_SELECTOR","mobile","loadPage","goBack","markSwupElements","updateTransition","usePlugin","enable","innerWidth","delegatedListeners","click","linkClickHandler","mouseover","linkMouseoverHandler","formSubmit","formSubmitHandler","popStateHandler","scrollRestoration","metaKey","preventDefault","getHash","swupClass","_this2","form","formData","FormData","action","inputs","input","checked","encodeURIComponent","_swup2","_getAnimation2","_createAnimationPromise2","Swupjs","_Swup","*","out","in","ReferenceError","_possibleConstructorReturn","__proto__","getPrototypeOf","subClass","superClass","constructor","setPrototypeOf","_inherits","_index","_index2","*>homepage","profileToHome","homeToProfile","homepage>graduate-profile","*>next-profile","*>prev-profile","timeout","nav","path01","getElementById","path02","path03","path04","leaf01","leaf02","leaf03","leaf04","didPlay","animLeaf","leaf","hero","percentScrolled","clientHeight","percentScrolledMiddle","perspectiveOrigin","graduateGridItems","filterFormInputs","srcElement"],"mappings":"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","file":"script.js","sourcesContent":["/**\n * http://animejs.com\n * JavaScript animation engine\n * @version v2.2.0\n * @author Julian Garnier\n * @copyright ©2017 Julian Garnier\n * Released under the MIT license\n**/\n\n(function(root, factory) {\n  if (typeof define === 'function' && define.amd) {\n    // AMD. Register as an anonymous module.\n    define([], factory);\n  } else if (typeof module === 'object' && module.exports) {\n    // Node. Does not work with strict CommonJS, but\n    // only CommonJS-like environments that support module.exports,\n    // like Node.\n    module.exports = factory();\n  } else {\n    // Browser globals (root is window)\n    root.anime = factory();\n  }\n}(this, () => {\n\n  // Defaults\n\n  const defaultInstanceSettings = {\n    update: undefined,\n    begin: undefined,\n    run: undefined,\n    complete: undefined,\n    loop: 1,\n    direction: 'normal',\n    autoplay: true,\n    offset: 0\n  }\n\n  const defaultTweenSettings = {\n    duration: 1000,\n    delay: 0,\n    easing: 'easeOutElastic',\n    elasticity: 500,\n    round: 0\n  }\n\n  const validTransforms = ['translateX', 'translateY', 'translateZ', 'rotate', 'rotateX', 'rotateY', 'rotateZ', 'scale', 'scaleX', 'scaleY', 'scaleZ', 'skewX', 'skewY', 'perspective'];\n  let transformString;\n\n  // Utils\n\n  function stringContains(str, text) {\n    return str.indexOf(text) > -1;\n  }\n\n  const is = {\n    arr: a => Array.isArray(a),\n    obj: a => stringContains(Object.prototype.toString.call(a), 'Object'),\n    pth: a => is.obj(a) && a.hasOwnProperty('totalLength'),\n    svg: a => a instanceof SVGElement,\n    dom: a => a.nodeType || is.svg(a),\n    str: a => typeof a === 'string',\n    fnc: a => typeof a === 'function',\n    und: a => typeof a === 'undefined',\n    hex: a => /(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(a),\n    rgb: a => /^rgb/.test(a),\n    hsl: a => /^hsl/.test(a),\n    col: a => (is.hex(a) || is.rgb(a) || is.hsl(a))\n  }\n\n  // BezierEasing https://github.com/gre/bezier-easing\n\n  const bezier = (() => {\n\n    const kSplineTableSize = 11;\n    const kSampleStepSize = 1.0 / (kSplineTableSize - 1.0);\n\n    function A (aA1, aA2) { return 1.0 - 3.0 * aA2 + 3.0 * aA1 };\n    function B (aA1, aA2) { return 3.0 * aA2 - 6.0 * aA1 };\n    function C (aA1)      { return 3.0 * aA1 };\n\n    function calcBezier (aT, aA1, aA2) { return ((A(aA1, aA2) * aT + B(aA1, aA2)) * aT + C(aA1)) * aT };\n    function getSlope (aT, aA1, aA2) { return 3.0 * A(aA1, aA2) * aT * aT + 2.0 * B(aA1, aA2) * aT + C(aA1) };\n\n    function binarySubdivide (aX, aA, aB, mX1, mX2) {\n      let currentX, currentT, i = 0;\n      do {\n        currentT = aA + (aB - aA) / 2.0;\n        currentX = calcBezier(currentT, mX1, mX2) - aX;\n        if (currentX > 0.0) { aB = currentT } else { aA = currentT };\n      } while (Math.abs(currentX) > 0.0000001 && ++i < 10);\n      return currentT;\n    }\n\n    function newtonRaphsonIterate (aX, aGuessT, mX1, mX2) {\n      for (let i = 0; i < 4; ++i) {\n        const currentSlope = getSlope(aGuessT, mX1, mX2);\n        if (currentSlope === 0.0) return aGuessT;\n        const currentX = calcBezier(aGuessT, mX1, mX2) - aX;\n        aGuessT -= currentX / currentSlope;\n      }\n      return aGuessT;\n    }\n\n    function bezier(mX1, mY1, mX2, mY2) {\n\n      if (!(0 <= mX1 && mX1 <= 1 && 0 <= mX2 && mX2 <= 1)) return;\n      let sampleValues = new Float32Array(kSplineTableSize);\n\n      if (mX1 !== mY1 || mX2 !== mY2) {\n        for (let i = 0; i < kSplineTableSize; ++i) {\n          sampleValues[i] = calcBezier(i * kSampleStepSize, mX1, mX2);\n        }\n      }\n\n      function getTForX(aX) {\n\n        let intervalStart = 0.0;\n        let currentSample = 1;\n        const lastSample = kSplineTableSize - 1;\n\n        for (; currentSample !== lastSample && sampleValues[currentSample] <= aX; ++currentSample) {\n          intervalStart += kSampleStepSize;\n        }\n\n        --currentSample;\n\n        const dist = (aX - sampleValues[currentSample]) / (sampleValues[currentSample + 1] - sampleValues[currentSample]);\n        const guessForT = intervalStart + dist * kSampleStepSize;\n        const initialSlope = getSlope(guessForT, mX1, mX2);\n\n        if (initialSlope >= 0.001) {\n          return newtonRaphsonIterate(aX, guessForT, mX1, mX2);\n        } else if (initialSlope === 0.0) {\n          return guessForT;\n        } else {\n          return binarySubdivide(aX, intervalStart, intervalStart + kSampleStepSize, mX1, mX2);\n        }\n\n      }\n\n      return x => {\n        if (mX1 === mY1 && mX2 === mY2) return x;\n        if (x === 0) return 0;\n        if (x === 1) return 1;\n        return calcBezier(getTForX(x), mY1, mY2);\n      }\n\n    }\n\n    return bezier;\n\n  })();\n\n  const easings = (() => {\n\n    const names = ['Quad', 'Cubic', 'Quart', 'Quint', 'Sine', 'Expo', 'Circ', 'Back', 'Elastic'];\n\n    // Elastic easing adapted from jQueryUI http://api.jqueryui.com/easings/\n\n    function elastic(t, p) {\n      return t === 0 || t === 1 ? t :\n      -Math.pow(2, 10 * (t - 1)) * Math.sin((((t - 1) - (p / (Math.PI * 2.0) * Math.asin(1))) * (Math.PI * 2)) / p );\n    }\n\n    // Approximated Penner equations http://matthewlein.com/ceaser/\n\n    const equations = {\n      In: [\n        [0.550, 0.085, 0.680, 0.530], /* InQuad */\n        [0.550, 0.055, 0.675, 0.190], /* InCubic */\n        [0.895, 0.030, 0.685, 0.220], /* InQuart */\n        [0.755, 0.050, 0.855, 0.060], /* InQuint */\n        [0.470, 0.000, 0.745, 0.715], /* InSine */\n        [0.950, 0.050, 0.795, 0.035], /* InExpo */\n        [0.600, 0.040, 0.980, 0.335], /* InCirc */\n        [0.600, -0.280, 0.735, 0.045], /* InBack */\n        elastic /* InElastic */\n      ], Out: [\n        [0.250, 0.460, 0.450, 0.940], /* OutQuad */\n        [0.215, 0.610, 0.355, 1.000], /* OutCubic */\n        [0.165, 0.840, 0.440, 1.000], /* OutQuart */\n        [0.230, 1.000, 0.320, 1.000], /* OutQuint */\n        [0.390, 0.575, 0.565, 1.000], /* OutSine */\n        [0.190, 1.000, 0.220, 1.000], /* OutExpo */\n        [0.075, 0.820, 0.165, 1.000], /* OutCirc */\n        [0.175, 0.885, 0.320, 1.275], /* OutBack */\n        (t, f) => 1 - elastic(1 - t, f) /* OutElastic */\n      ], InOut: [\n        [0.455, 0.030, 0.515, 0.955], /* InOutQuad */\n        [0.645, 0.045, 0.355, 1.000], /* InOutCubic */\n        [0.770, 0.000, 0.175, 1.000], /* InOutQuart */\n        [0.860, 0.000, 0.070, 1.000], /* InOutQuint */\n        [0.445, 0.050, 0.550, 0.950], /* InOutSine */\n        [1.000, 0.000, 0.000, 1.000], /* InOutExpo */\n        [0.785, 0.135, 0.150, 0.860], /* InOutCirc */\n        [0.680, -0.550, 0.265, 1.550], /* InOutBack */\n        (t, f) => t < .5 ? elastic(t * 2, f) / 2 : 1 - elastic(t * -2 + 2, f) / 2 /* InOutElastic */\n      ]\n    }\n\n    let functions = {\n      linear: bezier(0.250, 0.250, 0.750, 0.750)\n    }\n\n    for (let type in equations) {\n      equations[type].forEach((f, i) => {\n        functions['ease'+type+names[i]] = is.fnc(f) ? f : bezier.apply(this, f);\n      });\n    }\n\n    return functions;\n\n  })();\n\n  // Strings\n\n  function stringToHyphens(str) {\n    return str.replace(/([a-z])([A-Z])/g, '$1-$2').toLowerCase();\n  }\n\n  function selectString(str) {\n    if (is.col(str)) return;\n    try {\n      let nodes = document.querySelectorAll(str);\n      return nodes;\n    } catch(e) {\n      return;\n    }\n  }\n\n  // Arrays\n\n  function filterArray(arr, callback) {\n    const len = arr.length;\n    const thisArg = arguments.length >= 2 ? arguments[1] : void 0;\n    let result = [];\n    for (let i = 0; i < len; i++) {\n      if (i in arr) {\n        const val = arr[i];\n        if (callback.call(thisArg, val, i, arr)) {\n          result.push(val);\n        }\n      }\n    }\n    return result;\n  }\n\n  function flattenArray(arr) {\n    return arr.reduce((a, b) => a.concat(is.arr(b) ? flattenArray(b) : b), []);\n  }\n\n  function toArray(o) {\n    if (is.arr(o)) return o;\n    if (is.str(o)) o = selectString(o) || o;\n    if (o instanceof NodeList || o instanceof HTMLCollection) return [].slice.call(o);\n    return [o];\n  }\n\n  function arrayContains(arr, val) {\n    return arr.some(a => a === val);\n  }\n\n  // Objects\n\n  function cloneObject(o) {\n    let clone = {};\n    for (let p in o) clone[p] = o[p];\n    return clone;\n  }\n\n  function replaceObjectProps(o1, o2) {\n    let o = cloneObject(o1);\n    for (let p in o1) o[p] = o2.hasOwnProperty(p) ? o2[p] : o1[p];\n    return o;\n  }\n\n  function mergeObjects(o1, o2) {\n    let o = cloneObject(o1);\n    for (let p in o2) o[p] = is.und(o1[p]) ? o2[p] : o1[p];\n    return o;\n  }\n\n  // Colors\n\n  function rgbToRgba(rgbValue) {\n    const rgb = /rgb\\((\\d+,\\s*[\\d]+,\\s*[\\d]+)\\)/g.exec(rgbValue);\n    return rgb ? `rgba(${rgb[1]},1)` : rgbValue;\n  }\n\n  function hexToRgba(hexValue) {\n    const rgx = /^#?([a-f\\d])([a-f\\d])([a-f\\d])$/i;\n    const hex = hexValue.replace(rgx, (m, r, g, b) => r + r + g + g + b + b );\n    const rgb = /^#?([a-f\\d]{2})([a-f\\d]{2})([a-f\\d]{2})$/i.exec(hex);\n    const r = parseInt(rgb[1], 16);\n    const g = parseInt(rgb[2], 16);\n    const b = parseInt(rgb[3], 16);\n    return `rgba(${r},${g},${b},1)`;\n  }\n\n  function hslToRgba(hslValue) {\n    const hsl = /hsl\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%\\)/g.exec(hslValue) || /hsla\\((\\d+),\\s*([\\d.]+)%,\\s*([\\d.]+)%,\\s*([\\d.]+)\\)/g.exec(hslValue);\n    const h = parseInt(hsl[1]) / 360;\n    const s = parseInt(hsl[2]) / 100;\n    const l = parseInt(hsl[3]) / 100;\n    const a = hsl[4] || 1;\n    function hue2rgb(p, q, t) {\n      if (t < 0) t += 1;\n      if (t > 1) t -= 1;\n      if (t < 1/6) return p + (q - p) * 6 * t;\n      if (t < 1/2) return q;\n      if (t < 2/3) return p + (q - p) * (2/3 - t) * 6;\n      return p;\n    }\n    let r, g, b;\n    if (s == 0) {\n      r = g = b = l;\n    } else {\n      const q = l < 0.5 ? l * (1 + s) : l + s - l * s;\n      const p = 2 * l - q;\n      r = hue2rgb(p, q, h + 1/3);\n      g = hue2rgb(p, q, h);\n      b = hue2rgb(p, q, h - 1/3);\n    }\n    return `rgba(${r * 255},${g * 255},${b * 255},${a})`;\n  }\n\n  function colorToRgb(val) {\n    if (is.rgb(val)) return rgbToRgba(val);\n    if (is.hex(val)) return hexToRgba(val);\n    if (is.hsl(val)) return hslToRgba(val);\n  }\n\n  // Units\n\n  function getUnit(val) {\n    const split = /([\\+\\-]?[0-9#\\.]+)(%|px|pt|em|rem|in|cm|mm|ex|ch|pc|vw|vh|vmin|vmax|deg|rad|turn)?$/.exec(val);\n    if (split) return split[2];\n  }\n\n  function getTransformUnit(propName) {\n    if (stringContains(propName, 'translate') || propName === 'perspective') return 'px';\n    if (stringContains(propName, 'rotate') || stringContains(propName, 'skew')) return 'deg';\n  }\n\n  // Values\n\n  function minMaxValue(val, min, max) {\n    return Math.min(Math.max(val, min), max);\n  }\n\n  function getFunctionValue(val, animatable) {\n    if (!is.fnc(val)) return val;\n    return val(animatable.target, animatable.id, animatable.total);\n  }\n\n  function getCSSValue(el, prop) {\n    if (prop in el.style) {\n      return getComputedStyle(el).getPropertyValue(stringToHyphens(prop)) || '0';\n    }\n  }\n\n  function getAnimationType(el, prop) {\n    if (is.dom(el) && arrayContains(validTransforms, prop)) return 'transform';\n    if (is.dom(el) && (el.getAttribute(prop) || (is.svg(el) && el[prop]))) return 'attribute';\n    if (is.dom(el) && (prop !== 'transform' && getCSSValue(el, prop))) return 'css';\n    if (el[prop] != null) return 'object';\n  }\n\n  function getTransformValue(el, propName) {\n    const defaultUnit = getTransformUnit(propName);\n    const defaultVal = stringContains(propName, 'scale') ? 1 : 0 + defaultUnit;\n    const str = el.style.transform;\n    if (!str) return defaultVal;\n    let match = [];\n    let props = [];\n    let values = [];\n    const rgx = /(\\w+)\\((.+?)\\)/g;\n    while (match = rgx.exec(str)) {\n      props.push(match[1]);\n      values.push(match[2]);\n    }\n    const value = filterArray(values, (val, i) => props[i] === propName);\n    return value.length ? value[0] : defaultVal;\n  }\n\n  function getOriginalTargetValue(target, propName) {\n    switch (getAnimationType(target, propName)) {\n      case 'transform': return getTransformValue(target, propName);\n      case 'css': return getCSSValue(target, propName);\n      case 'attribute': return target.getAttribute(propName);\n    }\n    return target[propName] || 0;\n  }\n\n  function getRelativeValue(to, from) {\n    const operator = /^(\\*=|\\+=|-=)/.exec(to);\n    if (!operator) return to;\n    const u = getUnit(to) || 0;\n    const x = parseFloat(from);\n    const y = parseFloat(to.replace(operator[0], ''));\n    switch (operator[0][0]) {\n      case '+': return x + y + u;\n      case '-': return x - y + u;\n      case '*': return x * y + u;\n    }\n  }\n\n  function validateValue(val, unit) {\n    if (is.col(val)) return colorToRgb(val);\n    const originalUnit = getUnit(val);\n    const unitLess = originalUnit ? val.substr(0, val.length - originalUnit.length) : val;\n    return unit && !/\\s/g.test(val) ? unitLess + unit : unitLess;\n  }\n\n  // getTotalLength() equivalent for circle, rect, polyline, polygon and line shapes. \n  // adapted from https://gist.github.com/SebLambla/3e0550c496c236709744\n\n  function getDistance(p1, p2) {\n    return Math.sqrt(Math.pow(p2.x - p1.x, 2) + Math.pow(p2.y - p1.y, 2)); \n  }\n\n  function getCircleLength(el) {\n    return 2 * Math.PI * el.getAttribute('r');\n  }\n\n  function getRectLength(el) {\n    return (el.getAttribute('width') * 2) + (el.getAttribute('height') * 2);\n  }\n\n  function getLineLength(el) {\n    return getDistance(\n      {x: el.getAttribute('x1'), y: el.getAttribute('y1')}, \n      {x: el.getAttribute('x2'), y: el.getAttribute('y2')}\n    );\n  }\n\n  function getPolylineLength(el) {\n    const points = el.points;\n    let totalLength = 0;\n    let previousPos;\n    for (let i = 0 ; i < points.numberOfItems; i++) {\n      const currentPos = points.getItem(i);\n      if (i > 0) totalLength += getDistance(previousPos, currentPos);\n      previousPos = currentPos;\n    }\n    return totalLength;\n  }\n\n  function getPolygonLength(el) {\n    const points = el.points;\n    return getPolylineLength(el) + getDistance(points.getItem(points.numberOfItems - 1), points.getItem(0));\n  }\n\n  // Path animation\n\n  function getTotalLength(el) {\n    if (el.getTotalLength) return el.getTotalLength();\n    switch(el.tagName.toLowerCase()) {\n      case 'circle': return getCircleLength(el);\n      case 'rect': return getRectLength(el);\n      case 'line': return getLineLength(el);\n      case 'polyline': return getPolylineLength(el);\n      case 'polygon': return getPolygonLength(el);\n    }\n  }\n\n  function setDashoffset(el) {\n    const pathLength = getTotalLength(el);\n    el.setAttribute('stroke-dasharray', pathLength);\n    return pathLength;\n  }\n\n  // Motion path\n\n  function getPath(path, percent) {\n    const el = is.str(path) ? selectString(path)[0] : path;\n    const p = percent || 100;\n    return function(prop) {\n      return {\n        el: el,\n        property: prop,\n        totalLength: getTotalLength(el) * (p / 100)\n      }\n    }\n  }\n\n  function getPathProgress(path, progress) {\n    function point(offset = 0) {\n      const l = progress + offset >= 1 ? progress + offset : 0;\n      return path.el.getPointAtLength(l);\n    }\n    const p = point();\n    const p0 = point(-1);\n    const p1 = point(+1);\n    switch (path.property) {\n      case 'x': return p.x;\n      case 'y': return p.y;\n      case 'angle': return Math.atan2(p1.y - p0.y, p1.x - p0.x) * 180 / Math.PI;\n    }\n  }\n\n  // Decompose value\n\n  function decomposeValue(val, unit) {\n    const rgx = /-?\\d*\\.?\\d+/g;\n    const value = validateValue((is.pth(val) ? val.totalLength : val), unit) + '';\n    return {\n      original: value,\n      numbers: value.match(rgx) ? value.match(rgx).map(Number) : [0],\n      strings: (is.str(val) || unit) ? value.split(rgx) : []\n    }\n  }\n\n  // Animatables\n\n  function parseTargets(targets) {\n    const targetsArray = targets ? (flattenArray(is.arr(targets) ? targets.map(toArray) : toArray(targets))) : [];\n    return filterArray(targetsArray, (item, pos, self) => self.indexOf(item) === pos);\n  }\n\n  function getAnimatables(targets) {\n    const parsed = parseTargets(targets);\n    return parsed.map((t, i) => {\n      return {target: t, id: i, total: parsed.length};\n    });\n  }\n\n  // Properties\n\n  function normalizePropertyTweens(prop, tweenSettings) {\n    let settings = cloneObject(tweenSettings);\n    if (is.arr(prop)) {\n      const l = prop.length;\n      const isFromTo = (l === 2 && !is.obj(prop[0]));\n      if (!isFromTo) {\n        // Duration divided by the number of tweens\n        if (!is.fnc(tweenSettings.duration)) settings.duration = tweenSettings.duration / l;\n      } else {\n        // Transform [from, to] values shorthand to a valid tween value\n        prop = {value: prop};\n      }\n    }\n    return toArray(prop).map((v, i) => {\n      // Default delay value should be applied only on the first tween\n      const delay = !i ? tweenSettings.delay : 0;\n      // Use path object as a tween value\n      let obj = is.obj(v) && !is.pth(v) ? v : {value: v};\n      // Set default delay value\n      if (is.und(obj.delay)) obj.delay = delay;\n      return obj;\n    }).map(k => mergeObjects(k, settings));\n  }\n\n  function getProperties(instanceSettings, tweenSettings, params) {\n    let properties = [];\n    const settings = mergeObjects(instanceSettings, tweenSettings);\n    for (let p in params) {\n      if (!settings.hasOwnProperty(p) && p !== 'targets') {\n        properties.push({\n          name: p,\n          offset: settings['offset'],\n          tweens: normalizePropertyTweens(params[p], tweenSettings)\n        });\n      }\n    }\n    return properties;\n  }\n\n  // Tweens\n\n  function normalizeTweenValues(tween, animatable) {\n    let t = {};\n    for (let p in tween) {\n      let value = getFunctionValue(tween[p], animatable);\n      if (is.arr(value)) {\n        value = value.map(v => getFunctionValue(v, animatable));\n        if (value.length === 1) value = value[0];\n      }\n      t[p] = value;\n    }\n    t.duration = parseFloat(t.duration);\n    t.delay = parseFloat(t.delay);\n    return t;\n  }\n\n  function normalizeEasing(val) {\n    return is.arr(val) ? bezier.apply(this, val) : easings[val];\n  }\n\n  function normalizeTweens(prop, animatable) {\n    let previousTween;\n    return prop.tweens.map(t => {\n      let tween = normalizeTweenValues(t, animatable);\n      const tweenValue = tween.value;\n      const originalValue = getOriginalTargetValue(animatable.target, prop.name);\n      const previousValue = previousTween ? previousTween.to.original : originalValue;\n      const from = is.arr(tweenValue) ? tweenValue[0] : previousValue;\n      const to = getRelativeValue(is.arr(tweenValue) ? tweenValue[1] : tweenValue, from);\n      const unit = getUnit(to) || getUnit(from) || getUnit(originalValue);\n      tween.from = decomposeValue(from, unit);\n      tween.to = decomposeValue(to, unit);\n      tween.start = previousTween ? previousTween.end : prop.offset;\n      tween.end = tween.start + tween.delay + tween.duration;\n      tween.easing = normalizeEasing(tween.easing);\n      tween.elasticity = (1000 - minMaxValue(tween.elasticity, 1, 999)) / 1000;\n      tween.isPath = is.pth(tweenValue);\n      tween.isColor = is.col(tween.from.original);\n      if (tween.isColor) tween.round = 1;\n      previousTween = tween;\n      return tween;\n    });\n  }\n\n  // Tween progress\n\n  const setTweenProgress = {\n    css: (t, p, v) => t.style[p] = v,\n    attribute: (t, p, v) => t.setAttribute(p, v),\n    object: (t, p, v) => t[p] = v,\n    transform: (t, p, v, transforms, id) => {\n      if (!transforms[id]) transforms[id] = [];\n      transforms[id].push(`${p}(${v})`);\n    }\n  }\n\n  // Animations\n\n  function createAnimation(animatable, prop) {\n    const animType = getAnimationType(animatable.target, prop.name);\n    if (animType) {\n      const tweens = normalizeTweens(prop, animatable);\n      return {\n        type: animType,\n        property: prop.name,\n        animatable: animatable,\n        tweens: tweens,\n        duration: tweens[tweens.length - 1].end,\n        delay: tweens[0].delay\n      }\n    }\n  }\n\n  function getAnimations(animatables, properties) {\n    return filterArray(flattenArray(animatables.map(animatable => {\n      return properties.map(prop => {\n        return createAnimation(animatable, prop);\n      });\n    })), a => !is.und(a));\n  }\n\n  // Create Instance\n\n  function getInstanceTimings(type, animations, instanceSettings, tweenSettings) {\n    const isDelay = (type === 'delay');\n    if (animations.length) {\n      return (isDelay ? Math.min : Math.max).apply(Math, animations.map(anim => anim[type]));\n    } else {\n      return isDelay ? tweenSettings.delay : instanceSettings.offset + tweenSettings.delay + tweenSettings.duration;\n    }\n  }\n\n  function createNewInstance(params) {\n    const instanceSettings = replaceObjectProps(defaultInstanceSettings, params);\n    const tweenSettings = replaceObjectProps(defaultTweenSettings, params);\n    const animatables = getAnimatables(params.targets);\n    const properties = getProperties(instanceSettings, tweenSettings, params);\n    const animations = getAnimations(animatables, properties);\n    return mergeObjects(instanceSettings, {\n      children: [],\n      animatables: animatables,\n      animations: animations,\n      duration: getInstanceTimings('duration', animations, instanceSettings, tweenSettings),\n      delay: getInstanceTimings('delay', animations, instanceSettings, tweenSettings)\n    });\n  }\n\n  // Core\n\n  let activeInstances = [];\n  let raf = 0;\n\n  const engine = (() => {\n    function play() { raf = requestAnimationFrame(step); };\n    function step(t) {\n      const activeLength = activeInstances.length;\n      if (activeLength) {\n        let i = 0;\n        while (i < activeLength) {\n          if (activeInstances[i]) activeInstances[i].tick(t);\n          i++;\n        }\n        play();\n      } else {\n        cancelAnimationFrame(raf);\n        raf = 0;\n      }\n    }\n    return play;\n  })();\n\n\n  // Public Instance\n\n  function anime(params = {}) {\n\n    let now, startTime, lastTime = 0;\n\n    let resolve = null;\n\n    function makePromise() {\n      return window.Promise && new Promise(_resolve => resolve = _resolve);\n    }\n\n    let promise = makePromise();\n\n    let instance = createNewInstance(params);\n\n    function toggleInstanceDirection() {\n      instance.reversed = !instance.reversed;\n    }\n\n    function adjustTime(time) {\n      return instance.reversed ? instance.duration - time : time;\n    }\n\n    function syncInstanceChildren(time) {\n      const children = instance.children;\n      const childrenLength = children.length;\n      if (time >= instance.currentTime) {\n        for (let i = 0; i < childrenLength; i++) children[i].seek(time);\n      } else {\n        for (let i = childrenLength; i--;) children[i].seek(time);\n      }\n    }\n\n    function setAnimationsProgress(insTime) {\n      let i = 0;\n      let transforms = {};\n      const animations = instance.animations;\n      const animationsLength = animations.length;\n      while (i < animationsLength) {\n        const anim = animations[i];\n        const animatable = anim.animatable;\n        const tweens = anim.tweens;\n        const tweenLength = tweens.length - 1;\n        let tween = tweens[tweenLength];\n        // Only check for keyframes if there is more than one tween\n        if (tweenLength) tween = filterArray(tweens, t => (insTime < t.end))[0] || tween;\n        const elapsed = minMaxValue(insTime - tween.start - tween.delay, 0, tween.duration) / tween.duration;\n        const eased = isNaN(elapsed) ? 1 : tween.easing(elapsed, tween.elasticity);\n        const strings = tween.to.strings;\n        const round = tween.round;\n        let numbers = [];\n        let progress;\n        const toNumbersLength = tween.to.numbers.length;\n        for (let n = 0; n < toNumbersLength; n++) {\n          let value;\n          const toNumber = tween.to.numbers[n];\n          const fromNumber = tween.from.numbers[n];\n          if (!tween.isPath) {\n            value = fromNumber + (eased * (toNumber - fromNumber));\n          } else {\n            value = getPathProgress(tween.value, eased * toNumber);\n          }\n          if (round) {\n            if (!(tween.isColor && n > 2)) {\n              value = Math.round(value * round) / round;\n            }\n          }\n          numbers.push(value);\n        }\n        // Manual Array.reduce for better performances\n        const stringsLength = strings.length;\n        if (!stringsLength) {\n          progress = numbers[0];\n        } else {\n          progress = strings[0];\n          for (let s = 0; s < stringsLength; s++) {\n            const a = strings[s];\n            const b = strings[s + 1];\n            const n = numbers[s];\n            if (!isNaN(n)) {\n              if (!b) {\n                progress += n + ' ';\n              } else {\n                progress += n + b;\n              }\n            }\n          }\n        }\n        setTweenProgress[anim.type](animatable.target, anim.property, progress, transforms, animatable.id);\n        anim.currentValue = progress;\n        i++;\n      }\n      const transformsLength = Object.keys(transforms).length;\n      if (transformsLength) {\n        for (let id = 0; id < transformsLength; id++) {\n          if (!transformString) {\n            const t = 'transform';\n            transformString = (getCSSValue(document.body, t) ? t : `-webkit-${t}`);\n          }\n          instance.animatables[id].target.style[transformString] = transforms[id].join(' ');\n        }\n      }\n      instance.currentTime = insTime;\n      instance.progress = (insTime / instance.duration) * 100;\n    }\n\n    function setCallback(cb) {\n      if (instance[cb]) instance[cb](instance);\n    }\n\n    function countIteration() {\n      if (instance.remaining && instance.remaining !== true) {\n        instance.remaining--;\n      }\n    }\n\n    function setInstanceProgress(engineTime) {\n      const insDuration = instance.duration;\n      const insOffset = instance.offset;\n      const insStart = insOffset + instance.delay;\n      const insCurrentTime = instance.currentTime;\n      const insReversed = instance.reversed;\n      const insTime = adjustTime(engineTime);\n      if (instance.children.length) syncInstanceChildren(insTime);\n      if (insTime >= insStart || !insDuration) {\n        if (!instance.began) {\n          instance.began = true;\n          setCallback('begin');\n        }\n        setCallback('run');\n      }\n      if (insTime > insOffset && insTime < insDuration) {\n        setAnimationsProgress(insTime);\n      } else {\n        if (insTime <= insOffset && insCurrentTime !== 0) {\n          setAnimationsProgress(0);\n          if (insReversed) countIteration();\n        }\n        if ((insTime >= insDuration && insCurrentTime !== insDuration) || !insDuration) {\n          setAnimationsProgress(insDuration);\n          if (!insReversed) countIteration();\n        }\n      }\n      setCallback('update');\n      if (engineTime >= insDuration) {\n        if (instance.remaining) {\n          startTime = now;\n          if (instance.direction === 'alternate') toggleInstanceDirection();\n        } else {\n          instance.pause();\n          if (!instance.completed) {\n            instance.completed = true;\n            setCallback('complete');\n            if ('Promise' in window) {\n              resolve();\n              promise = makePromise();\n            }\n          }\n        }\n        lastTime = 0;\n      }\n    }\n\n    instance.reset = function() {\n      const direction = instance.direction;\n      const loops = instance.loop;\n      instance.currentTime = 0;\n      instance.progress = 0;\n      instance.paused = true;\n      instance.began = false;\n      instance.completed = false;\n      instance.reversed = direction === 'reverse';\n      instance.remaining = direction === 'alternate' && loops === 1 ? 2 : loops;\n      setAnimationsProgress(0);\n      for (let i = instance.children.length; i--; ){\n        instance.children[i].reset();\n      }\n    }\n\n    instance.tick = function(t) {\n      now = t;\n      if (!startTime) startTime = now;\n      const engineTime = (lastTime + now - startTime) * anime.speed;\n      setInstanceProgress(engineTime);\n    }\n\n    instance.seek = function(time) {\n      setInstanceProgress(adjustTime(time));\n    }\n\n    instance.pause = function() {\n      const i = activeInstances.indexOf(instance);\n      if (i > -1) activeInstances.splice(i, 1);\n      instance.paused = true;\n    }\n\n    instance.play = function() {\n      if (!instance.paused) return;\n      instance.paused = false;\n      startTime = 0;\n      lastTime = adjustTime(instance.currentTime);\n      activeInstances.push(instance);\n      if (!raf) engine();\n    }\n\n    instance.reverse = function() {\n      toggleInstanceDirection();\n      startTime = 0;\n      lastTime = adjustTime(instance.currentTime);\n    }\n\n    instance.restart = function() {\n      instance.pause();\n      instance.reset();\n      instance.play();\n    }\n\n    instance.finished = promise;\n\n    instance.reset();\n\n    if (instance.autoplay) instance.play();\n\n    return instance;\n\n  }\n\n  // Remove targets from animation\n\n  function removeTargets(targets) {\n    const targetsArray = parseTargets(targets);\n    for (let i = activeInstances.length; i--;) {\n      const instance = activeInstances[i];\n      const animations = instance.animations;\n      for (let a = animations.length; a--;) {\n        if (arrayContains(targetsArray, animations[a].animatable.target)) {\n          animations.splice(a, 1);\n          if (!animations.length) instance.pause();\n        }\n      }\n    }\n  }\n\n  // Timeline\n\n  function timeline(params) {\n    let tl = anime(params);\n    tl.pause();\n    tl.duration = 0;\n    tl.add = function(instancesParams) {\n      tl.children.forEach(i => { i.began = true; i.completed = true; });\n      toArray(instancesParams).forEach(instanceParams => {\n        let insParams = mergeObjects(instanceParams, replaceObjectProps(defaultTweenSettings, params || {}));\n        insParams.targets = insParams.targets || params.targets;\n        const tlDuration = tl.duration;\n        const insOffset = insParams.offset;\n        insParams.autoplay = false;\n        insParams.direction = tl.direction;\n        insParams.offset = is.und(insOffset) ? tlDuration : getRelativeValue(insOffset, tlDuration);\n        tl.began = true;\n        tl.completed = true;\n        tl.seek(insParams.offset);\n        const ins = anime(insParams);\n        ins.began = true;\n        ins.completed = true;\n        if (ins.duration > tlDuration) tl.duration = ins.duration;\n        tl.children.push(ins);\n      });\n      tl.seek(0);\n      tl.reset();\n      if (tl.autoplay) tl.restart();\n      return tl;\n    }\n    return tl;\n  }\n\n  anime.version = '2.2.0';\n  anime.speed = 1;\n  anime.running = activeInstances;\n  anime.remove = removeTargets;\n  anime.getValue = getOriginalTargetValue;\n  anime.path = getPath;\n  anime.setDashoffset = setDashoffset;\n  anime.bezier = bezier;\n  anime.easings = easings;\n  anime.timeline = timeline;\n  anime.random = (min, max) => Math.floor(Math.random() * (max - min + 1)) + min;\n\n  return anime;\n\n}));\n","\n// FLIP Animation function that allows tweening classes\nvar flipAnimNodeList = function(elList, activeFilter) {\n  \n  // Create 'first' position array\n  var firstRect = [];\n\n  for(var i = 0; elList.length> i; i++) {\n    elList[i].style.cssText = \"\";\n    firstRect.push(elList[i].getBoundingClientRect())\n  }\n  \n  // Swap the classes based on filter\n  // then add positions to the array\n  for(var i = 0; elList.length> i; i++) {\n    elList[i].classList.remove('visible', 'hidden');\n\n    if(elList[i].classList.contains(activeFilter)) {\n      elList[i].classList.add('visible');\n\n    } else {\n      elList[i].classList.add('hidden');\n    }\n  }\n  \n  // Create the 'last' position array\n  var lastRect = [];\n  for(var i = 0; elList.length> i; i++) {\n    lastRect.push(elList[i].getBoundingClientRect())\n  }\n\n  // console.log('firstRect', firstRect);\n  // console.log('lastRect', lastRect);\n\n  var elListActive = [];\n\n// convert all the cordinates and create temp object to hold them\n  for(var i = 0; elList.length > i; i++) {\n    var invertedRect = {\n      top: firstRect[i].top - lastRect[i].top,\n      left: firstRect[i].left - lastRect[i].left,\n      width: firstRect[i].width / lastRect[i].width,\n      height: firstRect[i].height / lastRect[i].height\n    }\n    // apply transformations to each element\n    elList[i].style.transform = 'translateX(' + invertedRect.left + 'px) translateY(' + invertedRect.top + 'px) scaleX(' + invertedRect.width + ') scaleY(' + invertedRect.height + ')';\n\n\n    // // add active items to an array\n    if(elList[i].classList.contains(activeFilter)) {\n      elListActive.push(elList[i]);\n    }\n  }\n\n    // apply to active items\n    anime({\n      targets: elListActive,\n      opacity: 1,\n      scaleX: 1,\n      scaleY: 1,\n      translateX: 0,\n      translateY: 0,\n      easing: 'easeInOutSine',\n      duration: 300,\n      delay: function(el, i, l) {\n        return  i * 50;\n      }\n    });\n}\n\n// Filter function\nvar onFilterChange = function(elList, activeFilter){\n  \n  // Hide the els not in the filter\n  for(var i = 0; elList.length> i; i++) {\n      if( ! elList[i].classList.contains(activeFilter)) {\n        anime({\n          targets: elList[i],\n          opacity: 0,\n          scaleX: 0.5,\n          scaleY: 0.5,\n          easing: 'easeInOutCubic',\n          duration: 300,\n          delay: function(el, i, l) {\n            return  i * 50;\n          }\n        });\n      }\n  }\n\n  setTimeout(function(){\n    flipAnimNodeList(elList, activeFilter);\n  }, 300);\n\n}","/*!\n * imagesLoaded PACKAGED v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n/**\n * EvEmitter v1.1.0\n * Lil' event emitter\n * MIT License\n */\n\n/* jshint unused: true, undef: true, strict: true */\n\n( function( global, factory ) {\n  // universal module definition\n  /* jshint strict: false */ /* globals define, module, window */\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD - RequireJS\n    define( 'ev-emitter/ev-emitter',factory );\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS - Browserify, Webpack\n    module.exports = factory();\n  } else {\n    // Browser globals\n    global.EvEmitter = factory();\n  }\n\n}( typeof window != 'undefined' ? window : this, function() {\n\n\n\nfunction EvEmitter() {}\n\nvar proto = EvEmitter.prototype;\n\nproto.on = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // set events hash\n  var events = this._events = this._events || {};\n  // set listeners array\n  var listeners = events[ eventName ] = events[ eventName ] || [];\n  // only add once\n  if ( listeners.indexOf( listener ) == -1 ) {\n    listeners.push( listener );\n  }\n\n  return this;\n};\n\nproto.once = function( eventName, listener ) {\n  if ( !eventName || !listener ) {\n    return;\n  }\n  // add event\n  this.on( eventName, listener );\n  // set once flag\n  // set onceEvents hash\n  var onceEvents = this._onceEvents = this._onceEvents || {};\n  // set onceListeners object\n  var onceListeners = onceEvents[ eventName ] = onceEvents[ eventName ] || {};\n  // set flag\n  onceListeners[ listener ] = true;\n\n  return this;\n};\n\nproto.off = function( eventName, listener ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  var index = listeners.indexOf( listener );\n  if ( index != -1 ) {\n    listeners.splice( index, 1 );\n  }\n\n  return this;\n};\n\nproto.emitEvent = function( eventName, args ) {\n  var listeners = this._events && this._events[ eventName ];\n  if ( !listeners || !listeners.length ) {\n    return;\n  }\n  // copy over to avoid interference if .off() in listener\n  listeners = listeners.slice(0);\n  args = args || [];\n  // once stuff\n  var onceListeners = this._onceEvents && this._onceEvents[ eventName ];\n\n  for ( var i=0; i < listeners.length; i++ ) {\n    var listener = listeners[i]\n    var isOnce = onceListeners && onceListeners[ listener ];\n    if ( isOnce ) {\n      // remove listener\n      // remove before trigger to prevent recursion\n      this.off( eventName, listener );\n      // unset once flag\n      delete onceListeners[ listener ];\n    }\n    // trigger listener\n    listener.apply( this, args );\n  }\n\n  return this;\n};\n\nproto.allOff = function() {\n  delete this._events;\n  delete this._onceEvents;\n};\n\nreturn EvEmitter;\n\n}));\n\n/*!\n * imagesLoaded v4.1.4\n * JavaScript is all like \"You images are done yet or what?\"\n * MIT License\n */\n\n( function( window, factory ) { 'use strict';\n  // universal module definition\n\n  /*global define: false, module: false, require: false */\n\n  if ( typeof define == 'function' && define.amd ) {\n    // AMD\n    define( [\n      'ev-emitter/ev-emitter'\n    ], function( EvEmitter ) {\n      return factory( window, EvEmitter );\n    });\n  } else if ( typeof module == 'object' && module.exports ) {\n    // CommonJS\n    module.exports = factory(\n      window,\n      require('ev-emitter')\n    );\n  } else {\n    // browser global\n    window.imagesLoaded = factory(\n      window,\n      window.EvEmitter\n    );\n  }\n\n})( typeof window !== 'undefined' ? window : this,\n\n// --------------------------  factory -------------------------- //\n\nfunction factory( window, EvEmitter ) {\n\n\n\nvar $ = window.jQuery;\nvar console = window.console;\n\n// -------------------------- helpers -------------------------- //\n\n// extend objects\nfunction extend( a, b ) {\n  for ( var prop in b ) {\n    a[ prop ] = b[ prop ];\n  }\n  return a;\n}\n\nvar arraySlice = Array.prototype.slice;\n\n// turn element or nodeList into an array\nfunction makeArray( obj ) {\n  if ( Array.isArray( obj ) ) {\n    // use object if already an array\n    return obj;\n  }\n\n  var isArrayLike = typeof obj == 'object' && typeof obj.length == 'number';\n  if ( isArrayLike ) {\n    // convert nodeList to array\n    return arraySlice.call( obj );\n  }\n\n  // array of single index\n  return [ obj ];\n}\n\n// -------------------------- imagesLoaded -------------------------- //\n\n/**\n * @param {Array, Element, NodeList, String} elem\n * @param {Object or Function} options - if function, use as callback\n * @param {Function} onAlways - callback function\n */\nfunction ImagesLoaded( elem, options, onAlways ) {\n  // coerce ImagesLoaded() without new, to be new ImagesLoaded()\n  if ( !( this instanceof ImagesLoaded ) ) {\n    return new ImagesLoaded( elem, options, onAlways );\n  }\n  // use elem as selector string\n  var queryElem = elem;\n  if ( typeof elem == 'string' ) {\n    queryElem = document.querySelectorAll( elem );\n  }\n  // bail if bad element\n  if ( !queryElem ) {\n    console.error( 'Bad element for imagesLoaded ' + ( queryElem || elem ) );\n    return;\n  }\n\n  this.elements = makeArray( queryElem );\n  this.options = extend( {}, this.options );\n  // shift arguments if no options set\n  if ( typeof options == 'function' ) {\n    onAlways = options;\n  } else {\n    extend( this.options, options );\n  }\n\n  if ( onAlways ) {\n    this.on( 'always', onAlways );\n  }\n\n  this.getImages();\n\n  if ( $ ) {\n    // add jQuery Deferred object\n    this.jqDeferred = new $.Deferred();\n  }\n\n  // HACK check async to allow time to bind listeners\n  setTimeout( this.check.bind( this ) );\n}\n\nImagesLoaded.prototype = Object.create( EvEmitter.prototype );\n\nImagesLoaded.prototype.options = {};\n\nImagesLoaded.prototype.getImages = function() {\n  this.images = [];\n\n  // filter & find items if we have an item selector\n  this.elements.forEach( this.addElementImages, this );\n};\n\n/**\n * @param {Node} element\n */\nImagesLoaded.prototype.addElementImages = function( elem ) {\n  // filter siblings\n  if ( elem.nodeName == 'IMG' ) {\n    this.addImage( elem );\n  }\n  // get background image on element\n  if ( this.options.background === true ) {\n    this.addElementBackgroundImages( elem );\n  }\n\n  // find children\n  // no non-element nodes, #143\n  var nodeType = elem.nodeType;\n  if ( !nodeType || !elementNodeTypes[ nodeType ] ) {\n    return;\n  }\n  var childImgs = elem.querySelectorAll('img');\n  // concat childElems to filterFound array\n  for ( var i=0; i < childImgs.length; i++ ) {\n    var img = childImgs[i];\n    this.addImage( img );\n  }\n\n  // get child background images\n  if ( typeof this.options.background == 'string' ) {\n    var children = elem.querySelectorAll( this.options.background );\n    for ( i=0; i < children.length; i++ ) {\n      var child = children[i];\n      this.addElementBackgroundImages( child );\n    }\n  }\n};\n\nvar elementNodeTypes = {\n  1: true,\n  9: true,\n  11: true\n};\n\nImagesLoaded.prototype.addElementBackgroundImages = function( elem ) {\n  var style = getComputedStyle( elem );\n  if ( !style ) {\n    // Firefox returns null if in a hidden iframe https://bugzil.la/548397\n    return;\n  }\n  // get url inside url(\"...\")\n  var reURL = /url\\((['\"])?(.*?)\\1\\)/gi;\n  var matches = reURL.exec( style.backgroundImage );\n  while ( matches !== null ) {\n    var url = matches && matches[2];\n    if ( url ) {\n      this.addBackground( url, elem );\n    }\n    matches = reURL.exec( style.backgroundImage );\n  }\n};\n\n/**\n * @param {Image} img\n */\nImagesLoaded.prototype.addImage = function( img ) {\n  var loadingImage = new LoadingImage( img );\n  this.images.push( loadingImage );\n};\n\nImagesLoaded.prototype.addBackground = function( url, elem ) {\n  var background = new Background( url, elem );\n  this.images.push( background );\n};\n\nImagesLoaded.prototype.check = function() {\n  var _this = this;\n  this.progressedCount = 0;\n  this.hasAnyBroken = false;\n  // complete if no images\n  if ( !this.images.length ) {\n    this.complete();\n    return;\n  }\n\n  function onProgress( image, elem, message ) {\n    // HACK - Chrome triggers event before object properties have changed. #83\n    setTimeout( function() {\n      _this.progress( image, elem, message );\n    });\n  }\n\n  this.images.forEach( function( loadingImage ) {\n    loadingImage.once( 'progress', onProgress );\n    loadingImage.check();\n  });\n};\n\nImagesLoaded.prototype.progress = function( image, elem, message ) {\n  this.progressedCount++;\n  this.hasAnyBroken = this.hasAnyBroken || !image.isLoaded;\n  // progress event\n  this.emitEvent( 'progress', [ this, image, elem ] );\n  if ( this.jqDeferred && this.jqDeferred.notify ) {\n    this.jqDeferred.notify( this, image );\n  }\n  // check if completed\n  if ( this.progressedCount == this.images.length ) {\n    this.complete();\n  }\n\n  if ( this.options.debug && console ) {\n    console.log( 'progress: ' + message, image, elem );\n  }\n};\n\nImagesLoaded.prototype.complete = function() {\n  var eventName = this.hasAnyBroken ? 'fail' : 'done';\n  this.isComplete = true;\n  this.emitEvent( eventName, [ this ] );\n  this.emitEvent( 'always', [ this ] );\n  if ( this.jqDeferred ) {\n    var jqMethod = this.hasAnyBroken ? 'reject' : 'resolve';\n    this.jqDeferred[ jqMethod ]( this );\n  }\n};\n\n// --------------------------  -------------------------- //\n\nfunction LoadingImage( img ) {\n  this.img = img;\n}\n\nLoadingImage.prototype = Object.create( EvEmitter.prototype );\n\nLoadingImage.prototype.check = function() {\n  // If complete is true and browser supports natural sizes,\n  // try to check for image status manually.\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    // report based on naturalWidth\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    return;\n  }\n\n  // If none of the checks above matched, simulate loading on detached element.\n  this.proxyImage = new Image();\n  this.proxyImage.addEventListener( 'load', this );\n  this.proxyImage.addEventListener( 'error', this );\n  // bind to image as well for Firefox. #191\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.proxyImage.src = this.img.src;\n};\n\nLoadingImage.prototype.getIsImageComplete = function() {\n  // check for non-zero, non-undefined naturalWidth\n  // fixes Safari+InfiniteScroll+Masonry bug infinite-scroll#671\n  return this.img.complete && this.img.naturalWidth;\n};\n\nLoadingImage.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.img, message ] );\n};\n\n// ----- events ----- //\n\n// trigger specified handler for event type\nLoadingImage.prototype.handleEvent = function( event ) {\n  var method = 'on' + event.type;\n  if ( this[ method ] ) {\n    this[ method ]( event );\n  }\n};\n\nLoadingImage.prototype.onload = function() {\n  this.confirm( true, 'onload' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.onerror = function() {\n  this.confirm( false, 'onerror' );\n  this.unbindEvents();\n};\n\nLoadingImage.prototype.unbindEvents = function() {\n  this.proxyImage.removeEventListener( 'load', this );\n  this.proxyImage.removeEventListener( 'error', this );\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\n// -------------------------- Background -------------------------- //\n\nfunction Background( url, element ) {\n  this.url = url;\n  this.element = element;\n  this.img = new Image();\n}\n\n// inherit LoadingImage prototype\nBackground.prototype = Object.create( LoadingImage.prototype );\n\nBackground.prototype.check = function() {\n  this.img.addEventListener( 'load', this );\n  this.img.addEventListener( 'error', this );\n  this.img.src = this.url;\n  // check if image is already complete\n  var isComplete = this.getIsImageComplete();\n  if ( isComplete ) {\n    this.confirm( this.img.naturalWidth !== 0, 'naturalWidth' );\n    this.unbindEvents();\n  }\n};\n\nBackground.prototype.unbindEvents = function() {\n  this.img.removeEventListener( 'load', this );\n  this.img.removeEventListener( 'error', this );\n};\n\nBackground.prototype.confirm = function( isLoaded, message ) {\n  this.isLoaded = isLoaded;\n  this.emitEvent( 'progress', [ this, this.element, message ] );\n};\n\n// -------------------------- jQuery -------------------------- //\n\nImagesLoaded.makeJQueryPlugin = function( jQuery ) {\n  jQuery = jQuery || window.jQuery;\n  if ( !jQuery ) {\n    return;\n  }\n  // set local variable\n  $ = jQuery;\n  // $().imagesLoaded()\n  $.fn.imagesLoaded = function( options, callback ) {\n    var instance = new ImagesLoaded( this, options, callback );\n    return instance.jqDeferred.promise( $(this) );\n  };\n};\n// try making plugin\nImagesLoaded.makeJQueryPlugin();\n\n// --------------------------  -------------------------- //\n\nreturn ImagesLoaded;\n\n});\n\n","\n// // Get the link that was clicked\n// document.addEventListener('swup:clickLink', event => {\n//     console.log('clickedLink event', event);\n// });\n\n// // Get all the graduate profile links\n// // assign the clicked link to a global variable\n// var graduateGridLinks = document.querySelectorAll('.graduate-grid-link');\n// var clickedGridLink;\n\n// for(var i = 0; graduateGridLinks.length > i; i++) {\n//   graduateGridLinks[i].addEventListener('swup:clickLink', function(e) {\n//     clickedGridlink = this;\n//     // console.log('this', this);\n//     // console.log('event', clickedGridlink);\n//   } )\n// }\n\n\n\n\n\n// page transition functions\n\nvar homeToProfileOut = function(next) {\n  anime({\n    targets: '.graduate-block-wrap',\n    // translateY: -500,\n    translateZ: 400,\n    scale: 0.3,\n    opacity: 0,\n    duration: 400,\n    delay: function(el, i, l) {\n      return i * 50;\n    },\n    easing: 'easeInSine',\n    begin: console.log('hello'),\n    complete: next\n  })\n}\n\nvar homeToProfileIn = function(next) {\n  anime.timeline()\n    .add({\n      targets: '.profile-img-wrap',\n      opacity: [0, 1],\n      scale: [0.5, 1],\n      easing: 'easeOutCubic',\n      duration: 400,\n      // offset: '-=200'\n    })\n    .add({\n      targets: '.graduate-profile-top-section',\n      opacity: [0, 1],\n      translateX: [-100, 0],\n      easing: 'easeOutCubic',\n      duration: 400,\n      offset: '-=200'\n    })\n    .add({\n      targets: '.graduate-profile-bio-wrap',\n      opacity: [0, 1],\n      translateX: [-100, 0],\n      easing: 'easeOutCubic',\n      duration: 400,\n      offset: '-=200'\n    })\n    .add({\n      targets: '.project-preview-wrap',\n      opacity: [0, 1],\n      translateY: [100, 0],\n      easing: 'easeOutCubic',\n      duration: 200,\n      offset: '-=200',\n      delay: function(el, i, l) {\n        return i * 100;\n      },\n      complete: next\n    })\n  // anime({\n  //   targets: '.site-main',\n  //   opacity: [0, 1],\n  //   translateX: [100, 0],\n  //   duration: 400,\n  //   easing: 'easeOutCubic',\n  //   begin: console.log('hello'),\n  //   complete: next\n  // })\n}\n\n\n\n\nvar profileToHomeOut = function(next) {\n  anime({\n    targets: '.site-main',\n    opacity: 0,\n    // translateX: '-100vw',\n    duration: 200,\n    easing: 'easeInCubic',\n    complete: next\n  })\n}\n\nvar profileToHomeIn = function(next) {\n  anime({\n    targets: '.site-main',\n    opacity: [0, 1],\n    // translateX: ['100vw', 0],\n    duration: 400,\n    easing: 'easeOutCubic',\n    complete: next\n  })\n}\n\n// next and prev post transitions\nvar nextProfileOut = function(next) {\n  anime({\n    targets: '.site-main',\n    rotate: '-45deg',\n    opacity: 0,\n    duration: 200,\n    easing: 'easeInCubic',\n    complete: next\n  })\n}\n\nvar nextProfileIn = function(next) {\n  anime.timeline()\n    .add({\n      targets: '.site-main',\n      rotate: ['45deg', 0],\n      opacity: [0, 1],\n      easing: [0, 1, 0, 1],\n    })\n    .add({\n      targets: '.profile-img-wrap',\n      opacity: [0, 1],\n      translateX: [200, 0],\n      translateZ: [-200, 0],\n      rotate: ['90deg', 0],\n      easing: [0, 1, 0, 1],\n      offset: 0\n    })\n    .add({\n      targets: '.graduate-profile-top-section',\n      opacity: [0, 1],\n      translateX: [200, 0],\n      translateZ: [-300, 0],\n      rotate: ['30deg', 0],\n      easing: [0, 1, 0, 1],\n      offset: 150\n    })\n    .add({\n      targets: '.graduate-profile-bio-wrap',\n      opacity: [0, 1],\n      translateX: [200, 0],\n      translateZ: [-400, 0],\n      easing: [0, 1, 0, 1],\n      offset: 250\n    })\n    .add({\n      targets: '.project-preview-wrap',\n      opacity: [0, 1],\n      translateX: [200, 0],\n      translateZ: [-500, 0],\n      easing: [0, 1, 0, 1],\n      offset: 350,\n      delay: function(el, i, l) {\n        return i * 100;\n      },\n      complete: next\n    })\n}\n\nvar prevProfileOut = function(next) {\n  anime({\n    targets: '.site-main',\n    rotate: '45deg',\n    opacity: 0,\n    duration: 200,\n    easing: 'easeInCubic',\n    complete: next\n  })\n}\n\nvar prevProfileIn = function(next) {\n\n    anime.timeline()\n    .add({\n      targets: '.site-main',\n      rotate: ['-45deg', 0],\n      opacity: [0, 1],\n      easing: [0, 1, 0, 1],\n    })\n    .add({\n      targets: '.profile-img-wrap',\n      opacity: [0, 1],\n      translateX: [-200, 0],\n      translateZ: [-200, 0],\n      rotate: ['-90deg', 0],\n      easing: [0, 1, 0, 1],\n      offset: 0\n    })\n    .add({\n      targets: '.graduate-profile-top-section',\n      opacity: [0, 1],\n      translateX: [-200, 0],\n      translateZ: [-300, 0],\n      rotate: ['-30deg', 0],\n      easing: [0, 1, 0, 1],\n      offset: 150\n    })\n    .add({\n      targets: '.graduate-profile-bio-wrap',\n      opacity: [0, 1],\n      translateX: [-200, 0],\n      translateZ: [-400, 0],\n      easing: [0, 1, 0, 1],\n      offset: 250\n    })\n    .add({\n      targets: '.project-preview-wrap',\n      opacity: [0, 1],\n      translateX: [-200, 0],\n      translateZ: [-500, 0],\n      easing: [0, 1, 0, 1],\n      offset: 350,\n      delay: function(el, i, l) {\n        return i * 100;\n      },\n      complete: next\n    })\n}\n\n\n\n\n\n\n\n\n// FLIP Animation function that allows tweening class position and rotation\nfunction flipAnim(element, from, to ) {\n  \n  // Check if element is already animating and return if it is\n  if (element.classList.contains('animating')) {\n    console.log('already animating');\n    return;\n  }\n  \n  // Get 'from' position\n  var expanded = element.getBoundingClientRect();\n  \n  // Swap the classes\n  element.classList.remove(from);\n  element.classList.add(to);\n  \n  // Get the 'to' position\n  var collapsed = element.getBoundingClientRect();\n\n  // Invert the values\n  // Use minus when manipulating sizes to apply in scale\n  var invertedTop =  expanded.top - collapsed.top;\n  // var invertedTop =  collapsed.top - expanded.top;\n  var invertedLeft = expanded.left - collapsed.left;\n  // var invertedLeft = collapsed.left - expanded.left;\n  // Use divisions when manipulating sizes to apply in scale\n  var invertedWidth = expanded.width / collapsed.width;\n  var invertedHeight = expanded.height / collapsed.height;\n  \n  // Set the transform origin point so it works with the calculated co-ordinates\n  element.style.transformOrigin = 'left top';\n  \n  // Apply transform to sync the from class back to the 'to' classes position\n  element.style.transform = 'translateX(' + invertedLeft + 'px) translateY(' + invertedTop + 'px) scaleX(' + invertedWidth + ') scaleY(' + invertedHeight + ')';\n  \n  // Call the animation function\n  animate(element);\n\n};\n\n// Anime function that controls the animation\nfunction animate(element) {\n    anime({\n      targets: element,\n      translateX: 0,\n      translateY: 0,\n      scaleX: 1,\n      scaleY: 1,\n      duration: 800,\n      // easing: 'easeInOutCubic',\n      elasticity: 100,\n      // delay: function(element, index, numTargets) {\n      //           return index * 100;\n      //         },\n      run: function() {\n        // Add animating class when animation starts\n        element.classList.add('animating');\n      },\n      complete: function() {\n        // Remove animating class when animation ends\n        element.classList.remove('animating');\n        // Remove the left over inline styles\n        element.removeAttribute('style');\n        // Remove the anime from element to allow it to be animated again with no glitching or delay\n        anime.remove(element);\n      }\n    });\n  };","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Swupjs\"] = factory();\n\telse\n\t\troot[\"Swupjs\"] = factory();\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, {\n/******/ \t\t\t\tconfigurable: false,\n/******/ \t\t\t\tenumerable: true,\n/******/ \t\t\t\tget: getter\n/******/ \t\t\t});\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = 27);\n/******/ })\n/************************************************************************/\n/******/ ([\n/* 0 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Link = function () {\n    function Link() {\n        _classCallCheck(this, Link);\n\n        this.link = document.createElement(\"a\");\n    }\n\n    _createClass(Link, [{\n        key: 'setPath',\n        value: function setPath(href) {\n            this.link.href = href;\n        }\n    }, {\n        key: 'getPath',\n        value: function getPath() {\n            var path = this.link.pathname;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getAddress',\n        value: function getAddress() {\n            var path = this.link.pathname + this.link.search;\n            if (path[0] != '/') {\n                path = '/' + path;\n            }\n            return path;\n        }\n    }, {\n        key: 'getHash',\n        value: function getHash() {\n            return this.link.hash;\n        }\n    }]);\n\n    return Link;\n}();\n\nexports.default = Link;\n\n/***/ }),\n/* 1 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (fn) {\n    return new Promise(function (resolve) {\n        fn(resolve);\n    });\n};\n\n/***/ }),\n/* 2 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (transition, animations, type) {\n\n    var animation = null;\n    var animationName = null;\n    var topRating = 0;\n\n    Object.keys(animations).forEach(function (item) {\n        var rating = 0;\n        if (item.includes('>')) {\n            var route = item.split('>');\n            var from = route[0];\n            var to = route[1];\n\n            // TO equals to TO\n            if (to == transition.to || to == \"*\") {\n                rating++;\n            }\n\n            // equals to CUSTOM animation\n            if (to == transition.custom) {\n                rating = rating + 2;\n            }\n\n            // FROM equals or is ANY\n            if (from == transition.from || from == \"*\") {\n                rating++;\n            }\n        }\n\n        // set new final animation\n        if (rating > topRating) {\n            topRating = rating;\n            animationName = item;\n            animation = animations[item];\n        }\n    });\n\n    if (animation == null || topRating == 1) {\n        animation = animations['*'];\n        animationName = '*';\n    }\n    this.triggerEvent('pageAnimation:' + animationName);\n\n    return animation[type];\n};\n\n/***/ }),\n/* 3 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Link = __webpack_require__(0);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (page, popstate) {\n    var _this = this;\n\n    document.documentElement.classList.remove('is-leaving');\n\n    // replace state in case the url was redirected\n    var link = new _Link2.default();\n    link.setPath(page.responseURL);\n\n    if (window.location.pathname !== link.getPath()) {\n        window.history.replaceState({\n            url: link.getPath(),\n            random: Math.random(),\n            source: \"swup\"\n        }, document.title, link.getPath());\n    }\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        document.documentElement.classList.add('is-rendering');\n    }\n\n    this.triggerEvent('willReplaceContent');\n\n    // replace blocks\n    for (var i = 0; i < page.blocks.length; i++) {\n        document.body.querySelector('[data-swup=\"' + i + '\"]').outerHTML = page.blocks[i];\n    }\n\n    // set title\n    document.title = page.title;\n\n    this.triggerEvent('contentReplaced');\n    this.triggerEvent('pageView');\n\n    if (!this.options.cache) {\n        this.cache.empty(this.options.debugMode);\n    }\n\n    // handle classes after render\n    if (this.options.pageClassPrefix !== false) {\n        document.body.className.split(' ').forEach(function (className) {\n            // empty string for page class\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.remove(className);\n            }\n        });\n    }\n\n    // empty string for page class\n    if (page.pageClass != \"\") {\n        page.pageClass.split(' ').forEach(function (className) {\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.add(className);\n            }\n        });\n    }\n\n    // scrolling\n    if (!this.options.doScrollingRightAway || this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // detect animation end\n    var animationPromises = [];\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        var animationPromise = this.createAnimationPromise(this.getAnimation(this.transition, this.animations, 'in'));\n        animationPromises.push(animationPromise);\n    }\n\n    //preload pages if possible\n    this.preloadPages();\n\n    Promise.all(animationPromises).then(function () {\n        _this.triggerEvent('animationInDone');\n        // remove \"to-{page}\" classes\n        document.documentElement.className.split(' ').forEach(function (classItem) {\n            if (new RegExp(\"^to-\").test(classItem) || classItem === \"is-changing\" || classItem === \"is-rendering\" || classItem === \"is-popstate\") {\n                document.documentElement.classList.remove(classItem);\n            }\n        });\n    });\n\n    // update current url\n    this.getUrl();\n    // reset scroll-to element\n    this.scrollToElement = null;\n};\n\n/***/ }),\n/* 4 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (data, popstate) {\n    var _this = this;\n\n    var finalPage = null;\n\n    // scrolling\n    if (this.options.doScrollingRightAway && !this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    var animationPromises = [];\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        // start animation\n        document.documentElement.classList.add('is-changing');\n        document.documentElement.classList.add('is-leaving');\n        if (popstate) {\n            document.documentElement.classList.add('is-popstate');\n        }\n        document.documentElement.classList.add('to-' + this.classify(data.url));\n\n        // animation promise\n        var animationPromise = this.createAnimationPromise(this.getAnimation(this.transition, this.animations, 'out'));\n        animationPromises.push(animationPromise);\n\n        Promise.all(animationPromises).then(function () {\n            _this.triggerEvent('animationOutDone');\n        });\n\n        // create pop element with or without anchor\n        if (this.scrollToElement != null) {\n            var pop = data.url + this.scrollToElement;\n        } else {\n            var pop = data.url;\n        }\n        if (!popstate) this.createState(pop);\n    } else {\n        // proceed without animating\n        this.triggerEvent('animationSkipped');\n    }\n\n    if (this.cache.exists(data.url)) {\n        var xhrPromise = new Promise(function (resolve) {\n            resolve();\n        });\n        this.triggerEvent('pageRetrievedFromCache');\n    } else {\n        if (!this.preloadPromise || this.preloadPromise.route != data.url) {\n            var xhrPromise = new Promise(function (resolve) {\n                _this.getPage(data, function (response, request) {\n                    if (request.status === 500) {\n                        _this.triggerEvent('serverError');\n                        reject(data.url);\n                        return;\n                    } else {\n                        // get json data\n                        var page = _this.getDataFromHtml(response, request);\n                        if (page != null) {\n                            page.url = data.url;\n                        } else {\n                            reject(data.url);\n                            return;\n                        }\n                        // render page\n                        _this.cache.cacheUrl(page, _this.options.debugMode);\n                        _this.triggerEvent('pageLoaded');\n                    }\n                    resolve();\n                });\n            });\n        } else {\n            var xhrPromise = this.preloadPromise;\n        }\n    }\n\n    Promise.all(animationPromises.concat([xhrPromise])).then(function () {\n        finalPage = _this.cache.getPage(data.url);\n        _this.renderPage(finalPage, popstate);\n        _this.preloadPromise = null;\n    }).catch(function (errorUrl) {\n        // rewrite the skipPopStateHandling function to redirect manually when the history.go is processed\n        _this.options.skipPopStateHandling = function () {\n            window.location = errorUrl;\n            return true;\n        };\n\n        // go back to the actual page were still at\n        window.history.go(-1);\n    });\n};\n\n/***/ }),\n/* 5 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (str) {\n    if (this.options.debugMode) {\n        console.log(str + '%c', 'color: #009ACD');\n    }\n};\n\n/***/ }),\n/* 6 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (plugin, options) {\n    var _this = this;\n\n    options = Object.assign({}, plugin.options, options);\n\n    plugin.options = options;\n\n    var getCurrentPageHtml = function getCurrentPageHtml() {\n        var page = _this.cache.getPage(window.location.pathname + window.location.search);\n        var html = document.createElement('html');\n        html.innerHTML = page.originalContent;\n        return html;\n    };\n\n    this.plugins.push(plugin);\n    plugin.exec(options, this, getCurrentPageHtml);\n    return this.plugins;\n};\n\n/***/ }),\n/* 7 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Link = __webpack_require__(0);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = function () {\n    var _this = this;\n\n    if (this.options.preload) {\n        var preload = function preload(pathname) {\n            var link = new _Link2.default();\n            link.setPath(pathname);\n            if (link.getAddress() != _this.currentUrl && !_this.cache.exists(link.getAddress()) && _this.preloadPromise == null) {\n                _this.getPage({ url: link.getAddress() }, function (response, request) {\n                    if (request.status === 500) {\n                        _this.triggerEvent('serverError');\n                        return;\n                    } else {\n                        // get json data\n                        var page = _this.getDataFromHtml(response, request);\n                        if (page != null) {\n                            page.url = link.getAddress();\n                            _this.cache.cacheUrl(page, _this.options.debugMode);\n                            _this.triggerEvent('pagePreloaded');\n                        }\n                    }\n                });\n            }\n        };\n\n        document.querySelectorAll('[data-swup-preload]').forEach(function (element) {\n            preload(element.href);\n        });\n    }\n};\n\n/***/ }),\n/* 8 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (from, to, custom) {\n\n    // homepage case\n    if (from == \"/\") {\n        from = \"/homepage\";\n    }\n    if (to == \"/\") {\n        to = \"/homepage\";\n    }\n\n    // transition routes\n    this.transition = {\n        from: from.replace('/', ''),\n        to: to.replace('/', '')\n    };\n\n    if (custom) {\n        this.transition.custom = custom;\n    }\n};\n\n/***/ }),\n/* 9 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (element) {\n    var _this = this;\n\n    var blocks = 0;\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (element.querySelector(this.options.elements[i]) == null) {\n            console.warn(\"Element \" + this.options.elements[i] + \" is not in current page.\");\n        } else {\n            [].forEach.call(document.body.querySelectorAll(this.options.elements[i]), function (item, index) {\n                element.querySelectorAll(_this.options.elements[i])[index].dataset.swup = blocks;\n                blocks++;\n            });\n        }\n    }\n};\n\n/***/ }),\n/* 10 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (popstate) {\n    if (this.options.scroll && (!popstate || this.options.animateHistoryBrowsing)) {\n        if (this.scrollToElement != null) {\n            var element = document.querySelector(this.scrollToElement);\n            if (element != null) {\n                var top = element.getBoundingClientRect().top + window.pageYOffset;\n                this.scrollTo(document.body, top);\n            } else {\n                console.warn(\"Element for offset not found (\" + this.scrollToElement + \")\");\n            }\n            this.scrollToElement = null;\n        } else {\n            this.scrollTo(document.body, 0);\n        }\n    }\n};\n\n/***/ }),\n/* 11 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (text) {\n    var output = text.toString().toLowerCase().replace(/\\s+/g, '-') // Replace spaces with -\n    .replace(/\\//g, '-') // Replace / with -\n    .replace(/[^\\w\\-]+/g, '') // Remove all non-word chars\n    .replace(/\\-\\-+/g, '-') // Replace multiple - with single -\n    .replace(/^-+/, '') // Trim - from start of text\n    .replace(/-+$/, ''); // Trim - from end of text\n    if (output[0] == \"/\") output = output.splice(1);\n    if (output == '') output = 'homepage';\n    return output;\n};\n\n/***/ }),\n/* 12 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (element, to) {\n    var _this = this;\n\n    var animatedScroll = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : this.options.animateScroll;\n\n    var friction = 1 - this.options.scrollFriction;\n    var acceleration = this.options.scrollAcceleration;\n\n    var positionY = 0;\n    var velocityY = 0;\n    var targetPositionY = 0;\n    var targetPositionYWithOffset = 0;\n    var direction = 0;\n\n    var raf = null;\n\n    function getScrollTop() {\n        return document.body.scrollTop || document.documentElement.scrollTop;\n    }\n\n    var animate = function animate() {\n        var distance = update();\n        render();\n\n        if (direction === 1 && targetPositionY > positionY || direction === -1 && targetPositionY < positionY) {\n            raf = requestAnimationFrame(animate);\n        } else {\n            window.scrollTo(0, targetPositionY);\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    function update() {\n        var distance = targetPositionYWithOffset - positionY;\n        var attraction = distance * acceleration;\n\n        applyForce(attraction);\n\n        velocityY *= friction;\n        positionY += velocityY;\n\n        return distance;\n    }\n\n    var applyForce = function applyForce(force) {\n        velocityY += force;\n    };\n\n    var render = function render() {\n        window.scrollTo(0, positionY);\n    };\n\n    window.addEventListener('mousewheel', function (event) {\n        if (raf) {\n            cancelAnimationFrame(raf);\n            raf = null;\n        }\n    }, {\n        passive: true\n    });\n\n    var scrollTo = function scrollTo(offset, callback) {\n        positionY = getScrollTop();\n        direction = positionY > offset ? -1 : 1;\n        targetPositionYWithOffset = offset + direction;\n        targetPositionY = offset;\n        velocityY = 0;\n        if (positionY != targetPositionY) {\n            animate();\n        } else {\n            _this.triggerEvent('scrollDone');\n        }\n    };\n\n    this.triggerEvent('scrollStart');\n    if (animatedScroll == 0) {\n        window.scrollTo(0, to);\n        this.triggerEvent('scrollDone');\n    } else {\n        scrollTo(to);\n    }\n};\n\n/***/ }),\n/* 13 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function () {\n    this.currentUrl = window.location.pathname + window.location.search;\n};\n\n/***/ }),\n/* 14 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (eventName) {\n    if (this.options.debugMode) {\n        console.log('%cswup:' + '%c' + eventName, 'color: #343434', 'color: #009ACD');\n    }\n    var event = new CustomEvent('swup:' + eventName, { detail: eventName });\n    document.dispatchEvent(event);\n};\n\n/***/ }),\n/* 15 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (url) {\n    window.history.pushState({\n        url: url || window.location.href.split(window.location.hostname)[1],\n        random: Math.random(),\n        source: \"swup\"\n    }, document.getElementsByTagName('title')[0].innerText, url || window.location.href.split(window.location.hostname)[1]);\n};\n\n/***/ }),\n/* 16 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (page, popstate) {\n    setTimeout(function () {\n        document.body.classList.remove('is-changing');\n        history.back();\n    }, 100);\n};\n\n/***/ }),\n/* 17 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _Link = __webpack_require__(0);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (page, popstate) {\n    var _this = this;\n\n    document.documentElement.classList.remove('is-leaving');\n\n    // replace state in case the url was redirected\n    var link = new _Link2.default();\n    link.setPath(page.responseURL);\n\n    if (window.location.pathname !== link.getPath()) {\n        window.history.replaceState({\n            url: link.getPath(),\n            random: Math.random(),\n            source: \"swup\"\n        }, document.title, link.getPath());\n    }\n\n    // only add for non-popstate transitions\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        document.documentElement.classList.add('is-rendering');\n    }\n\n    this.triggerEvent('willReplaceContent');\n\n    // replace blocks\n    for (var i = 0; i < page.blocks.length; i++) {\n        document.body.querySelector('[data-swup=\"' + i + '\"]').outerHTML = page.blocks[i];\n    }\n\n    // set title\n    document.title = page.title;\n\n    this.triggerEvent('contentReplaced');\n    this.triggerEvent('pageView');\n    if (!this.options.cache) {\n        this.cache.empty(this.options.debugMode);\n    }\n    setTimeout(function () {\n        document.documentElement.classList.remove('is-animating');\n    }, 10);\n\n    // handle classes after render\n    if (this.options.pageClassPrefix !== false) {\n        document.body.className.split(' ').forEach(function (className) {\n            // empty string for page class\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.remove(className);\n            }\n        });\n    }\n\n    // empty string for page class\n    if (page.pageClass != \"\") {\n        page.pageClass.split(' ').forEach(function (className) {\n            if (className != \"\" && className.includes(_this.options.pageClassPrefix)) {\n                document.body.classList.add(className);\n            }\n        });\n    }\n\n    // scrolling\n    if (!this.options.doScrollingRightAway || this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    // detect animation end\n    var animatedElements = document.querySelectorAll(this.options.animationSelector);\n    var promises = [];\n    forEach.call(animatedElements, function (element) {\n        var promise = new Promise(function (resolve) {\n            element.addEventListener(_this.transitionEndEvent, function (event) {\n                if (element == event.target) {\n                    resolve();\n                }\n            });\n        });\n        promises.push(promise);\n    });\n\n    //preload pages if possible\n    this.preloadPages();\n\n    Promise.all(promises).then(function () {\n        _this.triggerEvent('animationInDone');\n        // remove \"to-{page}\" classes\n        document.documentElement.className.split(' ').forEach(function (classItem) {\n            if (new RegExp(\"^to-\").test(classItem) || classItem === \"is-changing\" || classItem === \"is-rendering\" || classItem === \"is-popstate\") {\n                document.documentElement.classList.remove(classItem);\n            }\n        });\n    });\n\n    // update current url\n    this.getUrl();\n    // reset scroll-to element\n    this.scrollToElement = null;\n};\n\n/***/ }),\n/* 18 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar forEach = Array.prototype.forEach;\n\n\nmodule.exports = function (data, popstate) {\n    var _this = this;\n\n    var finalPage = null;\n\n    // scrolling\n    if (this.options.doScrollingRightAway && !this.scrollToElement) {\n        this.doScrolling(popstate);\n    }\n\n    var animationPromises = [];\n\n    if (!popstate || this.options.animateHistoryBrowsing) {\n        // start animation\n        document.documentElement.classList.add('is-changing');\n        document.documentElement.classList.add('is-leaving');\n        document.documentElement.classList.add('is-animating');\n        if (popstate) {\n            document.documentElement.classList.add('is-popstate');\n        }\n        document.documentElement.classList.add('to-' + this.classify(data.url));\n\n        // detect animation end\n        var animatedElements = document.querySelectorAll(this.options.animationSelector);\n        forEach.call(animatedElements, function (element) {\n            var promise = new Promise(function (resolve) {\n                element.addEventListener(_this.transitionEndEvent, function (event) {\n                    if (element == event.target) {\n                        resolve();\n                    }\n                });\n            });\n            animationPromises.push(promise);\n        });\n\n        Promise.all(animationPromises).then(function () {\n            _this.triggerEvent('animationOutDone');\n        });\n\n        // create pop element with or without anchor\n        if (this.scrollToElement != null) {\n            var pop = data.url + this.scrollToElement;\n        } else {\n            var pop = data.url;\n        }\n        if (!popstate) this.createState(pop);\n    } else {\n        // proceed without animating\n        this.triggerEvent('animationSkipped');\n    }\n\n    if (this.cache.exists(data.url)) {\n        var xhrPromise = new Promise(function (resolve) {\n            resolve();\n        });\n        this.triggerEvent('pageRetrievedFromCache');\n    } else {\n        if (!this.preloadPromise || this.preloadPromise.route != data.url) {\n            var xhrPromise = new Promise(function (resolve, reject) {\n                _this.getPage(data, function (response, request) {\n                    if (request.status === 500) {\n                        _this.triggerEvent('serverError');\n                        reject(data.url);\n                        return;\n                    } else {\n                        // get json data\n                        var page = _this.getDataFromHtml(response, request);\n                        if (page != null) {\n                            page.url = data.url;\n                        } else {\n                            reject(data.url);\n                            return;\n                        }\n                        // render page\n                        _this.cache.cacheUrl(page, _this.options.debugMode);\n                        _this.triggerEvent('pageLoaded');\n                    }\n                    resolve();\n                });\n            });\n        } else {\n            var xhrPromise = this.preloadPromise;\n        }\n    }\n\n    Promise.all(animationPromises.concat([xhrPromise])).then(function () {\n        finalPage = _this.cache.getPage(data.url);\n        _this.renderPage(finalPage, popstate);\n        _this.preloadPromise = null;\n    }).catch(function (errorUrl) {\n        // rewrite the skipPopStateHandling function to redirect manually when the history.go is processed\n        _this.options.skipPopStateHandling = function () {\n            window.location = errorUrl;\n            return true;\n        };\n\n        // go back to the actual page were still at\n        window.history.go(-1);\n    });\n};\n\n/***/ }),\n/* 19 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function (html, request) {\n    var _this = this;\n\n    var content = html.replace('<body', '<div id=\"swupBody\"').replace('</body>', '</div>');\n    var fakeDom = document.createElement('div');\n    fakeDom.innerHTML = content;\n    var blocks = [];\n\n    for (var i = 0; i < this.options.elements.length; i++) {\n        if (fakeDom.querySelector(this.options.elements[i]) == null) {\n            console.warn('Element ' + this.options.elements[i] + ' is not found in cached page.');\n            return null;\n        } else {\n            [].forEach.call(document.body.querySelectorAll(this.options.elements[i]), function (item, index) {\n                fakeDom.querySelectorAll(_this.options.elements[i])[index].dataset.swup = blocks.length;\n                blocks.push(fakeDom.querySelectorAll(_this.options.elements[i])[index].outerHTML);\n            });\n        }\n    }\n\n    var json = {\n        title: fakeDom.querySelector('title').innerText,\n        pageClass: fakeDom.querySelector('#swupBody').className,\n        originalContent: html,\n        blocks: blocks,\n        responseURL: request != null ? request.responseURL : window.location.href\n    };\n    return json;\n};\n\n/***/ }),\n/* 20 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nmodule.exports = function (options) {\n    var callback = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : false;\n\n    var defaults = {\n        url: window.location.pathname + window.location.search,\n        method: \"GET\",\n        data: null\n    };\n\n    var data = _extends({}, defaults, options);\n\n    var request = new XMLHttpRequest();\n\n    request.onreadystatechange = function () {\n        if (request.readyState === 4) {\n            if (request.status !== 500) {\n                callback(request.responseText, request);\n            } else {\n                callback(null, request);\n            }\n        }\n    };\n\n    request.open(data.method, data.url, true);\n    request.setRequestHeader(\"X-Requested-With\", \"swup\");\n    request.send(data.data);\n    return request;\n};\n\n/***/ }),\n/* 21 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nmodule.exports = function transitionEnd() {\n    var el = document.createElement('div');\n\n    var transEndEventNames = {\n        WebkitTransition: 'webkitTransitionEnd',\n        MozTransition: 'transitionend',\n        OTransition: 'oTransitionEnd otransitionend',\n        transition: 'transitionend'\n    };\n\n    for (var name in transEndEventNames) {\n        if (el.style[name] !== undefined) {\n            return transEndEventNames[name];\n        }\n    }\n\n    return false;\n};\n\n/***/ }),\n/* 22 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Cache = function () {\n    function Cache() {\n        _classCallCheck(this, Cache);\n\n        this.pages = {};\n        this.count = 0;\n        this.last = null;\n    }\n\n    _createClass(Cache, [{\n        key: 'cacheUrl',\n        value: function cacheUrl(page, displayCache) {\n            this.count++;\n            if (page.url in this.pages === false) {\n                this.pages[page.url] = page;\n            }\n            this.last = this.pages[page.url];\n            if (displayCache) {\n                this.displayCache();\n            }\n        }\n    }, {\n        key: 'getPage',\n        value: function getPage(url) {\n            return this.pages[url];\n        }\n    }, {\n        key: 'displayCache',\n        value: function displayCache() {\n            console.groupCollapsed('Cache (' + Object.keys(this.pages).length + ')');\n            for (var key in this.pages) {\n                console.log(this.pages[key]);\n            }\n            console.groupEnd();\n        }\n    }, {\n        key: 'exists',\n        value: function exists(url) {\n            if (url in this.pages) return true;\n            return false;\n        }\n    }, {\n        key: 'empty',\n        value: function empty(showLog) {\n            this.pages = {};\n            this.count = 0;\n            this.last = null;\n            if (showLog) {\n                console.log('Cache cleared');\n            }\n        }\n    }, {\n        key: 'remove',\n        value: function remove(url) {\n            delete this.pages[url];\n        }\n    }]);\n\n    return Cache;\n}();\n\nexports.default = Cache;\n\n/***/ }),\n/* 23 */\n/***/ (function(module, exports) {\n\nvar DOCUMENT_NODE_TYPE = 9;\n\n/**\n * A polyfill for Element.matches()\n */\nif (typeof Element !== 'undefined' && !Element.prototype.matches) {\n    var proto = Element.prototype;\n\n    proto.matches = proto.matchesSelector ||\n                    proto.mozMatchesSelector ||\n                    proto.msMatchesSelector ||\n                    proto.oMatchesSelector ||\n                    proto.webkitMatchesSelector;\n}\n\n/**\n * Finds the closest parent that matches a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @return {Function}\n */\nfunction closest (element, selector) {\n    while (element && element.nodeType !== DOCUMENT_NODE_TYPE) {\n        if (typeof element.matches === 'function' &&\n            element.matches(selector)) {\n          return element;\n        }\n        element = element.parentNode;\n    }\n}\n\nmodule.exports = closest;\n\n\n/***/ }),\n/* 24 */\n/***/ (function(module, exports, __webpack_require__) {\n\nvar closest = __webpack_require__(23);\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction _delegate(element, selector, type, callback, useCapture) {\n    var listenerFn = listener.apply(this, arguments);\n\n    element.addEventListener(type, listenerFn, useCapture);\n\n    return {\n        destroy: function() {\n            element.removeEventListener(type, listenerFn, useCapture);\n        }\n    }\n}\n\n/**\n * Delegates event to a selector.\n *\n * @param {Element|String|Array} [elements]\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @param {Boolean} useCapture\n * @return {Object}\n */\nfunction delegate(elements, selector, type, callback, useCapture) {\n    // Handle the regular Element usage\n    if (typeof elements.addEventListener === 'function') {\n        return _delegate.apply(null, arguments);\n    }\n\n    // Handle Element-less usage, it defaults to global delegation\n    if (typeof type === 'function') {\n        // Use `document` as the first parameter, then apply arguments\n        // This is a short way to .unshift `arguments` without running into deoptimizations\n        return _delegate.bind(null, document).apply(null, arguments);\n    }\n\n    // Handle Selector-based usage\n    if (typeof elements === 'string') {\n        elements = document.querySelectorAll(elements);\n    }\n\n    // Handle Array-like based usage\n    return Array.prototype.map.call(elements, function (element) {\n        return _delegate(element, selector, type, callback, useCapture);\n    });\n}\n\n/**\n * Finds closest match and invokes callback.\n *\n * @param {Element} element\n * @param {String} selector\n * @param {String} type\n * @param {Function} callback\n * @return {Function}\n */\nfunction listener(element, selector, type, callback) {\n    return function(e) {\n        e.delegateTarget = closest(e.target, selector);\n\n        if (e.delegateTarget) {\n            callback.call(element, e);\n        }\n    }\n}\n\nmodule.exports = delegate;\n\n\n/***/ }),\n/* 25 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\n// helpers\n\n\n// modules\n\n\nvar _delegate = __webpack_require__(24);\n\nvar _delegate2 = _interopRequireDefault(_delegate);\n\nvar _Cache = __webpack_require__(22);\n\nvar _Cache2 = _interopRequireDefault(_Cache);\n\nvar _Link = __webpack_require__(0);\n\nvar _Link2 = _interopRequireDefault(_Link);\n\nvar _transitionEnd = __webpack_require__(21);\n\nvar _transitionEnd2 = _interopRequireDefault(_transitionEnd);\n\nvar _request = __webpack_require__(20);\n\nvar _request2 = _interopRequireDefault(_request);\n\nvar _getDataFromHtml = __webpack_require__(19);\n\nvar _getDataFromHtml2 = _interopRequireDefault(_getDataFromHtml);\n\nvar _loadPage = __webpack_require__(18);\n\nvar _loadPage2 = _interopRequireDefault(_loadPage);\n\nvar _renderPage = __webpack_require__(17);\n\nvar _renderPage2 = _interopRequireDefault(_renderPage);\n\nvar _goBack = __webpack_require__(16);\n\nvar _goBack2 = _interopRequireDefault(_goBack);\n\nvar _createState = __webpack_require__(15);\n\nvar _createState2 = _interopRequireDefault(_createState);\n\nvar _triggerEvent = __webpack_require__(14);\n\nvar _triggerEvent2 = _interopRequireDefault(_triggerEvent);\n\nvar _getUrl = __webpack_require__(13);\n\nvar _getUrl2 = _interopRequireDefault(_getUrl);\n\nvar _scrollTo = __webpack_require__(12);\n\nvar _scrollTo2 = _interopRequireDefault(_scrollTo);\n\nvar _classify = __webpack_require__(11);\n\nvar _classify2 = _interopRequireDefault(_classify);\n\nvar _doScrolling = __webpack_require__(10);\n\nvar _doScrolling2 = _interopRequireDefault(_doScrolling);\n\nvar _markSwupElements = __webpack_require__(9);\n\nvar _markSwupElements2 = _interopRequireDefault(_markSwupElements);\n\nvar _updateTransition = __webpack_require__(8);\n\nvar _updateTransition2 = _interopRequireDefault(_updateTransition);\n\nvar _preloadPages = __webpack_require__(7);\n\nvar _preloadPages2 = _interopRequireDefault(_preloadPages);\n\nvar _usePlugin = __webpack_require__(6);\n\nvar _usePlugin2 = _interopRequireDefault(_usePlugin);\n\nvar _log = __webpack_require__(5);\n\nvar _log2 = _interopRequireDefault(_log);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar Swup = function () {\n    function Swup(setOptions) {\n        _classCallCheck(this, Swup);\n\n        // default options\n        var defaults = {\n            cache: true,\n            animationSelector: '[class*=\"transition-\"]',\n            elements: ['#swup'],\n            pageClassPrefix: '',\n            debugMode: false,\n            scroll: true,\n\n            doScrollingRightAway: false,\n            animateScroll: true,\n            scrollFriction: .3,\n            scrollAcceleration: .04,\n\n            preload: true,\n            support: true,\n            plugins: [],\n\n            skipPopStateHandling: function skipPopStateHandling(event) {\n                if (event.state && event.state.source == \"swup\") {\n                    return false;\n                }\n                return true;\n            },\n            animateHistoryBrowsing: false,\n\n            LINK_SELECTOR: 'a[href^=\"' + window.location.origin + '\"]:not([data-no-swup]), a[href^=\"/\"]:not([data-no-swup]), a[href^=\"#\"]:not([data-no-swup])',\n            FORM_SELECTOR: 'form[data-swup-form]'\n\n            /**\n             * current transition object\n             */\n        };this.transition = {};\n\n        var options = _extends({}, defaults, setOptions);\n\n        /**\n         * helper variables\n         */\n        // mobile detection variable\n        this.mobile = false;\n        // id of element to scroll to after render\n        this.scrollToElement = null;\n        // promise used for preload, so no new loading of the same page starts while page is loading\n        this.preloadPromise = null;\n        // save options\n        this.options = options;\n        // plugins array\n        this.plugins = [];\n\n        /**\n         * make modules accessible in instance\n         */\n        this.getUrl = _getUrl2.default;\n        this.cache = new _Cache2.default();\n        this.link = new _Link2.default();\n        this.transitionEndEvent = (0, _transitionEnd2.default)();\n        this.getDataFromHtml = _getDataFromHtml2.default;\n        this.getPage = _request2.default;\n        this.scrollTo = _scrollTo2.default;\n        this.loadPage = _loadPage2.default;\n        this.renderPage = _renderPage2.default;\n        this.goBack = _goBack2.default;\n        this.createState = _createState2.default;\n        this.triggerEvent = _triggerEvent2.default;\n        this.classify = _classify2.default;\n        this.doScrolling = _doScrolling2.default;\n        this.markSwupElements = _markSwupElements2.default;\n        this.updateTransition = _updateTransition2.default;\n        this.preloadPages = _preloadPages2.default;\n        this.usePlugin = _usePlugin2.default;\n        this.log = _log2.default;\n        this.enable = this.enable;\n        this.destroy = this.destroy;\n\n        /**\n         * detect mobile devices\n         */\n        if (window.innerWidth <= 767) {\n            this.mobile = true;\n        }\n\n        // attach instance to window in debug mode\n        if (this.options.debugMode) {\n            window.swup = this;\n        }\n\n        this.getUrl();\n        this.enable();\n    }\n\n    _createClass(Swup, [{\n        key: 'enable',\n        value: function enable() {\n            var _this = this;\n\n            /**\n             * support check\n             */\n            if (this.options.support) {\n                // check pushState support\n                if (!('pushState' in window.history)) {\n                    console.warn('pushState is not supported');\n                    return;\n                }\n                // check transitionEnd support\n                if ((0, _transitionEnd2.default)()) {\n                    this.transitionEndEvent = (0, _transitionEnd2.default)();\n                } else {\n                    console.warn('transitionEnd detection is not supported');\n                    return;\n                }\n                // check Promise support\n                if (typeof Promise === \"undefined\" || Promise.toString().indexOf(\"[native code]\") === -1) {\n                    console.warn('Promise is not supported');\n                    return;\n                }\n            }\n\n            // variable to keep event listeners from \"delegate\"\n            this.delegatedListeners = {};\n\n            /**\n             * link click handler\n             */\n            this.delegatedListeners.click = (0, _delegate2.default)(document, this.options.LINK_SELECTOR, 'click', this.linkClickHandler.bind(this));\n\n            /**\n             * link mouseover handler (preload)\n             */\n            this.delegatedListeners.mouseover = (0, _delegate2.default)(document.body, this.options.LINK_SELECTOR, 'mouseover', this.linkMouseoverHandler.bind(this));\n\n            /**\n             * form submit handler\n             */\n            this.delegatedListeners.formSubmit = (0, _delegate2.default)(document, this.options.FORM_SELECTOR, 'submit', this.formSubmitHandler.bind(this));\n\n            /**\n             * popstate handler\n             */\n            window.addEventListener('popstate', this.popStateHandler.bind(this));\n\n            /**\n             * initial save to cache\n             */\n            var page = this.getDataFromHtml(document.documentElement.outerHTML);\n            page.url = this.currentUrl;\n            if (this.options.cache) {\n                this.cache.cacheUrl(page, this.options.debugMode);\n            }\n\n            /**\n             * mark swup blocks in html\n             */\n            this.markSwupElements(document.documentElement);\n\n            /**\n             * enable plugins from options\n             */\n            this.options.plugins.forEach(function (item) {\n                return _this.usePlugin(item);\n            });\n\n            /**\n             * modify initial history record\n             */\n            window.history.replaceState(Object.assign({}, window.history.state, {\n                url: window.location.href,\n                random: Math.random(),\n                source: \"swup\"\n            }), document.title, window.location.href);\n\n            /**\n             * Disable browser scroll control on popstates when animateHistoryBrowsing option is enabled\n             */\n            if (this.options.animateHistoryBrowsing) {\n                window.history.scrollRestoration = \"manual\";\n            }\n\n            /**\n             * trigger enabled event\n             */\n            this.triggerEvent('enabled');\n            document.documentElement.classList.add('swup-enabled');\n\n            /**\n             * trigger page view event\n             */\n            this.triggerEvent('pageView');\n\n            /**\n             * preload pages if possible\n             */\n            this.preloadPages();\n        }\n    }, {\n        key: 'destroy',\n        value: function destroy() {\n            // remove delegated listeners\n            this.delegatedListeners.click.destroy();\n            this.delegatedListeners.mouseover.destroy();\n\n            // remove popstate listener\n            window.removeEventListener('popstate', this.popStateHandler.bind(this));\n\n            // empty cache\n            this.cache.empty();\n\n            // remove swup data atributes from blocks\n            document.querySelectorAll('[data-swup]').forEach(function (element) {\n                delete element.dataset.swup;\n            });\n\n            this.triggerEvent('disabled');\n            document.documentElement.classList.remove('swup-enabled');\n        }\n    }, {\n        key: 'linkClickHandler',\n        value: function linkClickHandler(event) {\n            // no control key pressed\n            if (!event.metaKey) {\n                this.triggerEvent('clickLink');\n                var link = new _Link2.default();\n                event.preventDefault();\n                link.setPath(event.delegateTarget.href);\n                if (link.getAddress() == this.currentUrl || link.getAddress() == '') {\n                    if (link.getHash() != '') {\n                        this.triggerEvent('samePageWithHash');\n                        var element = document.querySelector(link.getHash());\n                        if (element != null) {\n                            if (this.options.scroll) {\n                                var top = element.getBoundingClientRect().top + window.pageYOffset;\n                                this.scrollTo(document.body, top);\n                            }\n                            history.replaceState({\n                                url: link.getAddress() + link.getHash(),\n                                random: Math.random(),\n                                source: \"swup\"\n                            }, document.title, link.getAddress() + link.getHash());\n                        } else {\n                            console.warn('Element for offset not found (' + link.getHash() + ')');\n                        }\n                    } else {\n                        this.triggerEvent('samePage');\n                        if (this.options.scroll) {\n                            this.scrollTo(document.body, 0, 1);\n                        }\n                    }\n                } else {\n                    if (link.getHash() != '') {\n                        this.scrollToElement = link.getHash();\n                    }\n                    // custom class fro dynamic pages\n                    var swupClass = event.delegateTarget.dataset.swupClass;\n                    if (swupClass != null) {\n                        this.updateTransition(window.location.pathname, link.getAddress(), event.delegateTarget.dataset.swupClass);\n                        document.documentElement.classList.add('to-' + swupClass);\n                    } else {\n                        this.updateTransition(window.location.pathname, link.getAddress());\n                    }\n                    this.loadPage({ url: link.getAddress() }, false);\n                }\n            } else {\n                this.triggerEvent('openPageInNewTab');\n            }\n        }\n    }, {\n        key: 'linkMouseoverHandler',\n        value: function linkMouseoverHandler(event) {\n            var _this2 = this;\n\n            this.triggerEvent('hoverLink');\n            if (this.options.preload) {\n                var link = new _Link2.default();\n                link.setPath(event.delegateTarget.href);\n                if (link.getAddress() != this.currentUrl && !this.cache.exists(link.getAddress()) && this.preloadPromise == null) {\n                    this.preloadPromise = new Promise(function (resolve, reject) {\n                        _this2.getPage({ url: link.getAddress() }, function (response, request) {\n                            if (request.status === 500) {\n                                _this2.triggerEvent('serverError');\n                                reject(link.getAddress());\n                                return;\n                            } else {\n                                // get json data\n                                var page = _this2.getDataFromHtml(response, request);\n                                if (page != null) {\n                                    page.url = link.getAddress();\n                                    _this2.cache.cacheUrl(page, _this2.options.debugMode);\n                                    _this2.triggerEvent('pagePreloaded');\n                                } else {\n                                    reject(link.getAddress());\n                                    return;\n                                }\n                            }\n                            resolve();\n                            _this2.preloadPromise = null;\n                        });\n                    });\n                    this.preloadPromise.route = link.getAddress();\n                }\n            }\n        }\n    }, {\n        key: 'formSubmitHandler',\n        value: function formSubmitHandler(event) {\n            // no control key pressed\n            if (!event.metaKey) {\n                this.triggerEvent('submitForm');\n                event.preventDefault();\n                var form = event.target;\n                var formData = new FormData(form);\n\n                var link = new _Link2.default();\n                link.setPath(form.action);\n\n                if (link.getHash() != '') {\n                    this.scrollToElement = link.getHash();\n                }\n\n                if (form.method.toLowerCase() != \"get\") {\n                    // remove page from cache\n                    this.cache.remove(link.getAddress());\n\n                    // send data\n                    this.loadPage({\n                        url: link.getAddress(),\n                        method: form.method,\n                        data: formData\n                    });\n                } else {\n                    // create base url\n                    var url = link.getAddress() || window.location.href;\n                    var inputs = form.querySelectorAll('input');\n                    if (url.indexOf('?') == -1) {\n                        url += \"?\";\n                    } else {\n                        url += \"&\";\n                    }\n\n                    // add form data to url\n                    inputs.forEach(function (input) {\n                        if (input.type == \"checkbox\" || input.type == \"radio\") {\n                            if (input.checked) {\n                                url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                            }\n                        } else {\n                            url += encodeURIComponent(input.name) + \"=\" + encodeURIComponent(input.value) + \"&\";\n                        }\n                    });\n\n                    // remove last \"&\"\n                    url = url.slice(0, -1);\n\n                    // remove page from cache\n                    this.cache.remove(url);\n\n                    // send data\n                    this.loadPage({\n                        url: url\n                    });\n                }\n            } else {\n                this.triggerEvent('openFormSubmitInNewTab');\n            }\n        }\n    }, {\n        key: 'popStateHandler',\n        value: function popStateHandler(event) {\n            var link = new _Link2.default();\n            if (this.options.skipPopStateHandling(event)) return;\n            link.setPath(event.state ? event.state.url : window.location.pathname);\n            if (link.getHash() != '') {\n                this.scrollToElement = link.getHash();\n            } else {\n                event.preventDefault();\n            }\n            this.triggerEvent('popState');\n            this.loadPage({ url: link.getAddress() }, event);\n        }\n    }]);\n\n    return Swup;\n}();\n\nexports.default = Swup;\n\n/***/ }),\n/* 26 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _swup = __webpack_require__(25);\n\nvar _swup2 = _interopRequireDefault(_swup);\n\nvar _loadPage = __webpack_require__(4);\n\nvar _loadPage2 = _interopRequireDefault(_loadPage);\n\nvar _renderPage = __webpack_require__(3);\n\nvar _renderPage2 = _interopRequireDefault(_renderPage);\n\nvar _getAnimation = __webpack_require__(2);\n\nvar _getAnimation2 = _interopRequireDefault(_getAnimation);\n\nvar _createAnimationPromise = __webpack_require__(1);\n\nvar _createAnimationPromise2 = _interopRequireDefault(_createAnimationPromise);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _possibleConstructorReturn(self, call) { if (!self) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self; }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, enumerable: false, writable: true, configurable: true } }); if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass; }\n\n// modules\n\n\nvar Swupjs = function (_Swup) {\n    _inherits(Swupjs, _Swup);\n\n    function Swupjs(setOptions) {\n        _classCallCheck(this, Swupjs);\n\n        var defaults = {\n            animations: {\n                '*': {\n                    out: function out(next) {\n                        next();\n                    },\n                    in: function _in(next) {\n                        next();\n                    }\n                }\n            }\n        };\n\n        var options = _extends({}, defaults, setOptions);\n\n        var _this = _possibleConstructorReturn(this, (Swupjs.__proto__ || Object.getPrototypeOf(Swupjs)).call(this, options));\n\n        _this.loadPage = _loadPage2.default;\n        _this.renderPage = _renderPage2.default;\n        _this.getAnimation = _getAnimation2.default;\n        _this.createAnimationPromise = _createAnimationPromise2.default;\n\n\n        _this.animations = options.animations;\n        return _this;\n    }\n\n    /**\n     * make modules accessible in instance\n     */\n\n\n    return Swupjs;\n}(_swup2.default);\n\nexports.default = Swupjs;\n\n/***/ }),\n/* 27 */\n/***/ (function(module, exports, __webpack_require__) {\n\n\"use strict\";\n\n\nvar _index = __webpack_require__(26);\n\nvar _index2 = _interopRequireDefault(_index);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nmodule.exports = _index2.default; // this is here for webpack to expose Swupjs as window.Swupjs\n\n/***/ })\n/******/ ]);\n});","// scripts in here\n\ndocument.addEventListener(\"DOMContentLoaded\", function() {\n  // code...\n\n  var swup = new Swupjs({\n    elements: ['.menu', '.content-area'],\n    animateScroll: false,\n    debugMode: true,\n    LINK_SELECTOR: 'a[href^=\"' + window.location.origin + '\"]:not([data-no-swup]), a[href^=\"/\"]:not([data-no-swup]), a[href^=\"#\"]:not([data-no-swup])',\n    animations: {\n      '*': {\n        out: function (next) {\n          profileToHomeOut(next)\n        },\n        in: function (next) {\n          profileToHomeIn(next)\n        }\n      },\n      '*>homepage': {\n        out: function (next) {\n          profileToHome(next);\n        },\n        in: function (next) {\n          homeToProfile(next);\n        }\n      },\n      'homepage>graduate-profile': {\n        out: function (next) {\n          homeToProfileOut(next);\n        },\n        in: function (next) {\n          homeToProfileIn(next);\n        }\n      },\n      '*>next-profile': {\n        out: function (next) {\n          console.log('next profile out');\n          nextProfileOut(next);\n        },\n        in: function (next) {\n          nextProfileIn(next);\n        }\n      },\n      '*>prev-profile': {\n        out: function (next) {\n          console.log('next profile out');\n          prevProfileOut(next);\n        },\n        in: function (next) {\n          prevProfileIn(next);\n        }\n      },\n    }\n  });\n\n\n\n  // Check if an element is fully in the visible viewport\n  function isInViewport(element) {\n    var rect = element.getBoundingClientRect();\n    var html = document.documentElement;\n    return (\n      rect.top >= 0 &&\n      rect.left >= 0 &&\n      rect.bottom <= (window.innerHeight || html.clientHeight) &&\n      rect.right <= (window.innerWidth || html.clientWidth)\n    );\n  }\n\n  // Check if an element is visible in viewport at all\n  function isVisible(element) {\n    var top = element.getBoundingClientRect().top;\n    var bottom = element.getBoundingClientRect().bottom;\n    var vHeight = (window.innerHeight || document.documentElement.clientHeight);\n    return (\n      (top > 0 || bottom > 0) &&\n      top < vHeight\n    );\n  }\n\n  // THROTTLED SCROLL FUNCTION\n  // Vars for the things that happen on scrolling\n  var nav = document.querySelector(\"#masthead\");\n  // vars for the leaves and paths\n  var leaves = document.getElementById(\"leaves\");\n  var path01 = anime.path('#leaves #path-01');\n  var path02 = anime.path('#leaves #path-02');\n  var path03 = anime.path('#leaves #path-03');\n  var path04 = anime.path('#leaves #path-04');\n  var leaf01 = document.getElementById(\"leaf-01\");\n  var leaf02 = document.getElementById('leaf-02');\n  var leaf03 = document.getElementById('leaf-03');\n  var leaf04 = document.getElementById('leaf-04');\n  var didPlay = false;\n\n  // function to animate the leaves\n  var animLeaf = function(leaf, path, duration) {\n    anime({\n      targets: leaf,\n      translateX: path('x'),\n      translateY: path('y'),\n      rotate: path('angle'),\n      easing: 'easeOutCubic',\n      duration: duration\n    });\n  }\n\n  // Vars for hero parallax\n  var hero = document.querySelector(\".hero-section\");\n\n  // requestAnimation frame throttled scroll function\n  // Setup a timer\n  var timeout;\n\n  // Listen for resize events\n  window.addEventListener('scroll', function ( event ) {\n\n    // If there's a timer, cancel it\n    if (timeout) {\n      window.cancelAnimationFrame(timeout);\n    }\n\n      // Setup the new requestAnimationFrame()\n    timeout = window.requestAnimationFrame(function () {\n        // Run scroll functions\n        \n        var scrollAmount = window.pageYOffset;\n        var heroHeight = hero.clientHeight;\n        // get percentage scrolled past the hero section\n        var percentScrolled = scrollAmount / heroHeight * 100;\n\n        // Shrink header on scroll\n        if ( percentScrolled > 90 && !nav.classList.contains('shrink') ) {\n          nav.classList.add(\"shrink\");\n        } else if ( percentScrolled < 90 && (nav.classList.contains('shrink')) ) {\n          nav.classList.remove(\"shrink\");\n        }\n\n        // animate perspective origin for parallax effect on hero image\n        if ( percentScrolled < 100 ) {\n          // start from 50 instead of 0 for the perspective origin property\n          var percentScrolledMiddle = (percentScrolled/2) + 50;\n          hero.style.perspectiveOrigin = '50% '+ percentScrolledMiddle +'%';\n        }\n\n        // trigger the leaves animation\n        if (percentScrolled > 10 && percentScrolled < 60 && didPlay == false) {\n          console.log('here');\n          didPlay = true;\n          animLeaf(leaf01, path01, 3500);\n          animLeaf(leaf02, path02, 3200);\n          animLeaf(leaf03, path03, 2800);\n          animLeaf(leaf04, path04, 3100);\n        }\n\n        // reset didPlay so the animation can play again\n        if (percentScrolled < 5 || percentScrolled > 80 && didPlay == true) {\n          didPlay = false;\n        }\n\n    });\n\n  }, false);\n\n\n\n  // grid filter functionality\n  var graduateGridItems = document.querySelectorAll('.graduate-block-wrap');\n  var filterFormInputs = document.querySelectorAll('.graduate-filter .filter-item input');\n\n  // when filter button is clicked\n  for (var i = 0; filterFormInputs.length > i; i++) {\n    filterFormInputs[i].addEventListener('change', function(e) {\n      console.log(e.srcElement.id);\n      onFilterChange(graduateGridItems, e.srcElement.id);\n    });\n  }\n\n});\n"]}